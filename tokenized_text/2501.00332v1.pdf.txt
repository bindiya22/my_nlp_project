{"words": ["mainrag", "multiagent", "filtering", "retrievalaugmented", "generation", "chiayuanchang", "zhimengjiang", "vineethrakesh", "menghaipan", "chinchiamichaelyeh", "texasamuniversity", "visaresearch", "visaresearch", "visaresearch", "visaresearch", "cychangtamuedu", "zhimjianvisacom", "vinemohavisacom", "mengpanvisacom", "miyehvisacom", "guanchuwang", "mingzhihu", "zhichaoxu", "yanzheng", "mahashwetadas", "nazou", "visaresearch", "worcesterpolytechnicinstitute", "universityofutah", "visaresearch", "visaresearch", "universityofhouston", "guanwangvisacom", "mhuwpiedu", "zhichaoxuutahedu", "yazhengvisacom", "mahadasvisacom", "nzoucentraluhedu", "abstract", "introduces", "critical", "limitation", "including", "gen", "erationofoutdatedorfactuallyincorrectinforma", "largelanguagemodelsllmsarebecoming", "tionaphenomenonreferredtohallucinationji", "essentialtoolsforvariousnaturallanguagepro", "et", "al", "zhang", "et", "al", "issue", "cessingtasksbutoftensufferfromgenerating", "outdated", "incorrect", "information", "retrieval", "comesparticularlypronouncedinapplicationsre", "augmentedgenerationragaddressesthis", "quiringaccurateuptodateandcontextuallyrele", "issue", "incorporating", "external", "realtime", "vantresponsessuchashealthcarelegalsystems", "formationretrievaltogroundllmresponses", "andrealtimecustomersupportbommasanietal", "howevertheexistingragsystemsfrequently", "zellersetallinetalb", "strugglewiththequalityofretrievaldocuments", "retrievalaugmented", "generation", "rag", "asirrelevantornoisydocumentsdegradeper", "formance", "increase", "computational", "overhead", "emergedasapromisingsolutiontomitigatethese", "andundermineresponsereliability", "totackle", "challenge", "integrating", "realtime", "document", "thisproblemweproposemultiagentfiltering", "trievaltogroundllmoutputsinreliableexternal", "retrievalaugmentedgenerationmainrag", "knowledge", "lewis", "et", "al", "guu", "et", "al", "atrainingfreeragframeworkthatleverages", "karpukhinetalrametallietal", "multiple", "llm", "agent", "collaboratively", "fil", "b", "wang", "et", "al", "trainingbased", "meth", "ter", "score", "retrieved", "document", "specifi", "odsguuetalkarpukhinetalwang", "cally", "mainrag", "introduces", "adaptive", "filter", "ing", "mechanism", "dynamically", "adjusts", "etalhavedemonstratedstrongperformance", "relevancefilteringthresholdbasedonscoredis", "require", "substantial", "computational", "resource", "tributionseffectivelyminimizingnoisewhile", "training", "time", "contrast", "trainingfree", "ap", "maintaininghighrecallofrelevantdocuments", "proachesrametallietalbjiang", "proposed", "approach", "leverage", "interagent", "et", "al", "b", "simpler", "efficient", "consensustoensurerobustdocumentselection", "asplugandplaymethodsstillhingeonthequal", "without", "requiring", "additional", "training", "data", "ityofretrieveddocumentschenetalyu", "finetuning", "experimental", "result", "across", "four", "qa", "benchmark", "demonstrate", "mainrag", "et", "al", "presence", "irrelevant", "noisy", "consistentlyoutperformstraditionalragap", "documentsnotonlyreducesresponseaccuracybut", "proachesachievingaimprovementin", "also", "increase", "computational", "overhead", "com", "answer", "accuracy", "reducing", "number", "promisessystemreliability", "thesechallengesun", "irrelevant", "retrieved", "document", "quantita", "derscoretheurgentneedforrobustmechanismsto", "tiveanalysisfurtherrevealsthatourapproach", "effectivelyfilterandrankretrievedcontent", "achievessuperiorresponseconsistencyandan", "swer", "accuracy", "baseline", "method", "offer", "toaddressthesechallengesweproposemulti", "ing", "competitive", "practical", "alternative", "agentfilteringretrievalaugmentedgeneration", "trainingbasedsolutions", "mainrag", "novel", "trainingfree", "framework", "de", "signedtoenhancetheperformanceandreliability", "introduction", "rag", "system", "unlike", "existing", "method", "largelanguagemodelsllmshaverevolution", "often", "rely", "computationally", "intensive", "training", "izednaturallanguageprocessingnlpachieving", "finetuning", "mainrag", "leverage", "collabora", "stateoftheart", "performance", "across", "diverse", "task", "tive", "multiagent", "approach", "multiple", "llm", "question", "answering", "summarization", "agent", "filter", "score", "retrieved", "document", "text", "generation", "vaswani", "brown", "consensusdriven", "strategy", "ensures", "however", "reliance", "pretrained", "static", "data", "mostrelevantandhighqualitydocumentsareuti", "ced", "lcsc", "vvixradocument", "retrieval", "filter", "noise", "document", "query", "an", "filtering", "retriever", "private", "doc", "scoring", "ordering", "database", "query", "an", "doc", "doc", "doc", "doc", "doc", "query", "doc", "llm", "agent", "doc", "query", "an", "llm", "agent", "doc", "doc", "predictor", "judge", "doc", "triplet", "docqa", "trainingfree", "stable", "document", "ordering", "answer", "based", "query", "fin", "answer", "adaptive", "judge", "bar", "relative", "document", "doc", "doc", "llm", "agent", "finalpredictor", "figure", "anoverviewoftheproposedframeworkmainragconsistingofthreellmagentstoidentifynoisy", "retrieveddocumentsforfilteringseesection", "aftertheretrievalagent", "predictorinfersanswersfor", "query", "agent", "judge", "take", "docqa", "triplet", "judge", "document", "supportive", "llm", "answerthequery", "judgeprovidesrelevantscoresforeachdocumentforfilteringandordering", "finallyagent", "finalpredictoranswersthequerywiththegivendocumentlist", "lized", "generation", "significantly", "reducing", "noise", "proachesachievingaimprovementin", "withoutsacrificingrecall", "answeraccuracywhilereducingtheinclusion", "mainragintroducesanadaptivefilteringmech", "ofirrelevantdocuments", "anismthatdynamicallyadjuststherelevancethresh", "byaddressingtheinherentchallengesofnoisein", "oldbasedonthescoredistributionofretrieveddoc", "documentretrievalandprovidingatrainingfreeso", "uments", "adaptability", "allows", "framework", "lutionmainragrepresentsasignificantadvance", "handle", "diverse", "query", "effectively", "ensures", "mentinthefieldofretrievalaugmentedgeneration", "robustperformanceacrossdiversetasks", "thisworkdetailsthedesignimplementationand", "thetrainingfreenatureofmainragelimi", "evaluationofmainraghighlightingitspotential", "natestheneedforadditionallabeleddataormodel", "toimproveresponseaccuracyconsistencyandre", "finetuningmakingitascalableandversatilesolu", "liabilityindiversenlpapplications", "tionforrealworldapplications", "ourcontributionsareasfollows", "preliminary", "trainingfreemultiagentfiltering", "wein", "notationsandobjectives", "troduceanoveltrainingfreeframeworkthat", "consider", "rag", "system", "designed", "filter", "employ", "multiple", "llm", "agent", "collabora", "noisy", "retrieved", "document", "improve", "response", "tivelyfilterandrankretrieveddocumentsim", "accuracy", "query", "q", "q", "retrieves", "set", "provingretrievalprecisionandragreliabil", "document", "using", "q", "n", "itywithouttheneedforadditionaltraining", "trievermodel", "eachdocumentd", "isassociatedwith", "relevance", "score", "r", "quantifies", "useful", "dynamic", "adaptive", "filtering", "mecha", "ness", "query", "determined", "agent", "nism", "mainrag", "incorporates", "adaptive", "judge", "described", "section", "let", "r", "thresholdmechanismthatdynamicallyadjusts", "r", "r", "r", "representtherelevancescoresfor", "toqueryspecificscoredistributionsensuring", "n", "theretrieveddocuments", "thesescoresareusedto", "effective", "noise", "reduction", "maintaining", "rankthedocumentsforminganorderedlistdrank", "highrecallofrelevantdocuments", "q", "document", "higher", "score", "deemed", "empirical", "validation", "across", "multiple", "morerelevant", "basedonthesescoresanadaptive", "benchmark", "experimental", "result", "judge", "bar", "computed", "query", "filter", "q", "four", "qa", "benchmark", "demonstrate", "outnoisydocumentsseesection", "document", "mainrag", "outperforms", "baseline", "rag", "ap", "withscoresr", "areretainedcreatingafiltered", "qsetdfiltered", "drank", "nr", "represents", "trainingfree", "rag", "trainingfree", "rag", "ap", "q", "q", "relevance", "score", "document", "adap", "proaches", "integrate", "pretrained", "language", "model", "tivejudgebar", "dynamicallyadjustsbasedonthe", "retrieval", "component", "avoiding", "extensive", "q", "distributionofr", "ensuringrobustfilteringfordi", "trainingrametalperformincontextre", "versequeries", "forexampleconsideraqueryq", "trievalallowinglanguagemodelstodynamically", "retrievesd", "withrelevancescores", "access", "external", "data", "li", "et", "al", "b", "propose", "q", "r", "therankedlistdrank", "becomes", "framework", "llm", "verify", "retrieved", "doc", "q", "adaptive", "judge", "bar", "uments", "ensure", "relevance", "query", "q", "thefilteredsetdfiltered", "retainsonlythe", "method", "highly", "sensitive", "input", "prompt", "q", "mostrelevantdocuments", "tothisendourworkfo", "similarlyjiangetalbintroduceastrategy", "cusesoneffectivelyidentifyingandfilteringnoisy", "actively", "determine", "retrieve", "document", "thereby", "enhancing", "accuracy", "duringgenerationbutitalsosuffersfromprompt", "reliabilityofragsystemsinaposthocmanner", "sensitivity", "whileefficienttrainingfreeragap", "proachesstrugglewithnoiserobustnessduetotheir", "impactofnoisyretrievaldocuments", "relianceonstaticpretraineddata", "challenge", "noise", "robustness", "rag", "ensur", "rag", "irrelevant", "noisy", "document", "retrieved", "ingnoiserobustnessiscriticalforthereliabilityof", "retrieval", "stage", "mislead", "llm", "ragsystemschenet", "al", "conductacom", "inference", "stage", "often", "resulting", "prehensive", "analysis", "rag", "effect", "llm", "correct", "answer", "presence", "noise", "focusingontheirresiliencetonoiseandotherfun", "formation", "pose", "significant", "challenge", "damental", "capability", "yu", "et", "al", "present", "liability", "llm", "rag", "especially", "ap", "framework", "strengthens", "llm", "rag", "perfor", "pliedtotasksthatrequirepreciseinformationsuch", "mancebyguidingthemincontextrankingandan", "question", "answering", "observed", "existing", "swergeneration", "sectiontradeoffofpicking", "studieschenetalyuetalllms", "topk", "context", "underscore", "significance", "exhibitvulnerabilitiesinnoiserobustnessandof", "selectingrelevantcontextstobalanceeffectiveness", "tenfailtorejectirrelevantcontentresultinginde", "andcomputationalcost", "thesefindingsemphasize", "creasedperformance", "thereforeimprovingnoise", "thenecessityoffilteringoutnoisydocumentstoup", "filtering", "retrieval", "process", "vital", "en", "holdtheaccuracyandrobustnessofragsystems", "hanceragsystemsreliabilityandrobustness", "multiagentfilteringragmainrag", "relatedworks", "thissectionreviewsragmethodologiesfocusing", "thissectionpresentsacomprehensiveoverviewof", "ontrainingbasedandtrainingfreeapproachesand", "ourproposedmainragframeworkasdepictedin", "discussesthechallengeofnoiserobustnessinrag", "figure", "basedonthetraditionalragworkflow", "trainingbasedragtrainingbasedraginte", "mainrag", "focus", "reducing", "noisy", "document", "gratesretrievalmechanismsintothetrainingofthe", "aftertheretrievalstage", "specificallymainragis", "languagemodelallowingaccesstoexternalinfor", "atrainingfreeframeworkinvolvingthreeagents", "mationduringgeneration", "forinstancelewisetal", "toidentifyandfilteroutnoisydocumentsafterre", "combineparametricandnonparametricpre", "trieval", "specific", "role", "three", "agent", "trainedmemoryforlanguagegenerationachieving", "defined", "section", "section", "illustrates", "stateoftheartresultsonopendomainqatasks", "processofsupportivedocumentjudgmentforfilter", "similarly", "guu", "et", "al", "introduce", "realm", "ingoutmisleadingorirrelevantones", "section", "framework", "augments", "language", "model", "pre", "proposesanadaptivejudgebartoadjustthejudge", "training", "latent", "knowledge", "retriever", "allow", "criteriaaccordingtogivenretrieveddocuments", "ing", "retrieval", "attention", "large", "corpus", "like", "definitionofllmagentsinmainrag", "wikipedia", "selfrag", "asai", "et", "al", "b", "pro", "posestoadaptivelyretrievepassagesandcritique", "proposed", "framework", "mainrag", "iden", "thegenerationssoastoimproveoutputqualityand", "tify", "noisy", "retrieved", "document", "filtering", "factuality", "albeiteffectivethesemethodsrequire", "consisting", "three", "llm", "agent", "agent", "dedicated", "training", "procedure", "corresponding", "predictor", "agent", "judge", "agent", "hardwarehinderingtheirapplicability", "finalpredictorscore", "log", "prob", "yes", "score", "log", "prob", "llm", "agent", "score", "n", "judge", "query", "an", "doc", "system", "instruction", "scoring", "query", "an", "doc", "doc", "doc", "query", "an", "llm", "agent", "doc", "judge", "doc", "triplet", "docqa", "figure", "impact", "document", "ordering", "variance", "inragperformancewherenoisedocstumeanst", "figure", "quantificationofdocumentrelevantscore", "noisydocumentsoutofuretrieveddocuments", "agent", "predictor", "afterthedocumentre", "ratiocondition", "theresultsillustratedinfigure", "trievalstagewehaveseveralcandidatedocuments", "revealthatdocumentorderhasasignificanteffect", "foreachquery", "thenforasinglequeryagent", "performance", "notably", "maximum", "perfor", "predictoristoinferanswerstothequerygiven", "mancesaresubstantiallyhigherthantheminimum", "eachdocument", "thenwecanformthedocument", "onessuggestingthatcertaindocumentorderscan", "queryanswer", "triplet", "docqa", "pre", "provide", "stable", "optimal", "result", "observa", "pared", "agent", "judge", "evaluate", "rele", "tionleadsustoproposeajudgmentquantification", "vantinformationamongdocqatripletasshown", "tomakedocumentssortable", "infigure", "toquantifythenaturallanguageoutputsyes", "agent", "judge", "given", "docqa", "triplet", "propose", "computing", "difference", "agent", "judgeistoevaluatewhetherthedoc", "betweenthelogprobabilitiesofthecorresponding", "umentprovidesrelevantinformationtothequery", "token", "shown", "figure", "system", "andanswer", "agentispromptedtoansweryes", "instructionisprovidedinappendixcsincethese", "ornoforeachdocqatriplettreatingtherele", "arelogprobabilitiesthisdifferenceeffectivelyrep", "vancejudgmentasatrueorfalsequestion", "resentsthelogarithmoftheratiooftheprobabilities", "simplification", "help", "quantify", "judg", "oftheyestokentothenotoken", "bysubtract", "mentasrelevantscoresofdocuments", "whichcan", "ingthelogprobabilitiesofthetwotokensagent", "used", "filtering", "ordering", "detail", "simplifies", "judgment", "consolidating", "two", "agentrefertosectionandsection", "factorsintoasinglescore", "thisrelevantscorethen", "agent", "finalpredictor", "afteragent", "servesasthesolecriterionfordocumentfiltering", "filtersoutnoisydocumentsandorderstheremain", "ingdocumentlistbytheirrelevantscoresagent", "adaptivejudgebar", "q", "finalpredictor", "prompted", "answer", "afterweobtainrelevantscoresforeachdocument", "querywiththedocumentlist", "anotherchallengeishowtodeterminetheoptimal", "judgebarforfilteringoutnoisydocuments", "relevancejudgmentquantification", "theoptimaljudgebaristhescorethatperfectlyfil", "previousresearchhasobservedthatwhenprocess", "tersoutallnoisydocumentswhileretainingallrel", "inglongcontextinputsllmstendtooverlookin", "evantones", "considerexampleinfigurewhere", "formationinthemiddleplacinggreateremphasis", "onthebeginningandendofthecontextliuetal", "thissuggeststhatinragtheorderingof", "documentsmayinfluencepredictionperformance", "investigate", "impact", "document", "order", "ragweconductedanexperimentonthebench", "markrgbchenetalwheretheretrieved", "documentswererandomlyshuffledandevaluated", "thisprocesswasrepeatedtentimesforeachnoise", "figure", "examplesofoptimaljudgebarojbscore", "distribution", "related", "doc", "score", "distribution", "noisy", "doc", "document", "score", "document", "score", "figureoptimaljudgebarsfordifferentnoiseratiosin", "differentquerieswherenoisedocstumeanstnoisy", "documentsoutofuretrieveddocuments", "query", "retrieves", "higher", "number", "noisy", "docu", "mentstheoptimaljudgebarinthiscaseisapprox", "imately", "inexampleinfigurewheremore", "relevant", "document", "retrieved", "query", "optimaljudgebarincreasestoaround", "examplesillustratethattheoptimaljudgebarvaries", "withthedocumentdistributionamongqueries", "also", "observe", "significant", "variation", "optimal", "judgebarsacrossdifferentqueriesinrgbbench", "mark", "chen", "et", "al", "shown", "figure", "thisobservationleadsustothinkabouthowcan", "weadaptivelydetermineoptimaljudgebars", "analyzing", "relevant", "score", "distribution", "bothrelatedandnoisydocumentsonrgbbench", "markchenetalweobservethatthescores", "ofrelateddocumentsareskewedhighwithasmall", "standarddeviationasshowninfigure", "thisin", "dicatesthatthellmhereismistralbismore", "confidentaboutthesedocuments", "incontrastthe", "scoresofnoisydocumentsaremoreuniformlydis", "tributedwithalargerstandarddeviationsuggesting", "thatthellmislessconfidentandmaymisjudge", "based", "biased", "llm", "behavior", "proposeusingtheaveragerelevantscoreforeach", "queryasanadaptivejudgebar", "infigurethered", "linerepresentstheaveragescoreofalldocuments", "documentstotherightoftheredlinetheredarea", "areretainedwhilethosetotheleftarefilteredout", "whentheaveragescoreishighindicatingmany", "relevant", "documentswe", "filter", "low", "scoringoutlierswhicharelikelynoise", "conversely", "average", "score", "lowindicating", "many", "noisydocumentsweaimtoreducethenumberof", "documentswhilemaintainingahighrecallratefor", "relevantdocumentsbystillusingtheaveragescore", "tofilteroutapproximatelyhalfofthedocuments", "tointroduceflexibilityintothisframeworkwead", "justtheadaptivejudgebar", "byaddingntimesthe", "q", "standarddeviation", "ofeachcandidatedocument", "set", "nallowingrelax", "whenneededas", "q", "q", "ycneuqerf", "figure", "scoredistributionofrelatedandnoisydocu", "mentswithadaptivejudgebar", "shownbythegreenareainfigure", "notablynis", "theonlyhyperparameterinmainrag", "experiment", "inthissectionweconductexperimentstoevaluate", "performance", "mainrag", "aiming", "answer", "thefollowingthreeresearchquestions", "rq", "mainrag", "perform", "leveraging", "llm", "agent", "noisy", "document", "filter", "rq", "utilize", "adaptive", "judge", "bar", "filtering", "ranking", "q", "rq", "howdoes", "influenceperformance", "q", "tasksanddatasets", "weevaluateourmainragmodelandvariousbase", "linesacrossarangeofdownstreamtasksassessing", "theoutputsforoverallcorrectness", "allevaluations", "areconductedinazeroshotsettingwherewepro", "videtaskinstructionswithoutfewshotdemonstra", "tionssanhetalweietal", "closedset", "task", "evaluate", "mainrag", "arcchallenge", "dataset", "clark", "et", "al", "multiplechoice", "reasoning", "dataset", "collected", "scientificexams", "weuseaccuracyastheevaluation", "metricandreportresultsonthetestingset", "opendomainquestionansweringtasks", "evaluate", "mainrag", "two", "opendomain", "qa", "datasets", "triviaqaunfiltered", "joshi", "et", "al", "andpopqamallenetalbothofwhichre", "quirellmstoanswerarbitraryquestionsaboutfac", "tualknowledge", "sincethetestingsetoftriviaqa", "unfilteredisnotpubliclyavailableweusetheval", "idation", "testing", "set", "provided", "existing", "workasaietalbcomprisingtest", "ingqueriesforevaluation", "forpopqaweutilize", "longtail", "subset", "consisting", "rare", "en", "tity", "query", "monthly", "wikipedia", "page", "view", "less", "following", "prior", "work", "mallen", "etalschicketalweevaluatetask", "performance", "based", "whether", "gold", "answer", "areincludedinthemodelsgenerationsinsteadof", "strictlyrequiringexactmatchesa", "triviaqa", "b", "popqa", "c", "arcchallenge", "figure", "performancecomparisonamongmainraganditsvariantbaselinesonthreeqabenchmarkswhereall", "threellmagentsarepretrainedmistral", "comparisonbasedonllama", "agentsisillustratedinappendixb", "b", "b", "longformgenerationtasks", "weconductresults", "od", "simply", "prepend", "top", "retrieved", "document", "onthelongformqataskalceasqagaoetal", "query", "passing", "pretrained", "stelmakhetaltoevaluatemainrag", "llmegllama", "alpaca", "llama", "bb", "bb", "b", "werelyontheofficialmetricsincludingcorrect", "mistral", "usingthesameretrieverasinoursys", "b", "nessstremandrougeandfluencymeasuredby", "tem", "also", "consider", "two", "variant", "mainrag", "mauvemaupillutlaetal", "navemultiagentragthismainragvariant", "replacesagentsrolewithasimplenaturallan", "baseline", "guagejudgmentofyesornomainragran", "baseline", "without", "retrieval", "assess", "dom", "variant", "scoring", "filtering", "range", "publicly", "available", "powerful", "pre", "theordersofremainingdocumentsarerandomized", "trained", "llm", "including", "llama", "tou", "bb", "experimentalsettings", "vron", "et", "al", "llama", "dubey", "et", "al", "b", "mistral", "jiang", "et", "al", "asatrainingfreeragframeworkthethreeagents", "b", "well", "instructiontuned", "model", "like", "mainrag", "instantiated", "different", "pre", "alpaca", "dubois", "et", "al", "also", "trained", "llm", "default", "setting", "instanti", "bb", "compare", "framework", "model", "trained", "ateallthreeagentsbypretrainedmistral", "jiang", "b", "andenhancedusingprivatedatallamachat", "et", "al", "llama", "without", "tun", "b", "b", "whenever", "possible", "use", "official", "sys", "ing", "employ", "pretrained", "contrieverms", "tem", "prompt", "instruction", "format", "marco", "izacard", "et", "al", "default", "applied", "training", "process", "trievermodel", "retrievinguptotwentydocuments", "instructiontunedmodels", "query", "mainrag", "filter", "use", "baseline", "retrieval", "evaluate", "model", "greedygenerationforallourexperiments", "incorporate", "retrieval", "either", "inference", "quantitativeanalysisrq", "orthroughoutthetrainingprocess", "inthefirstcat", "egory", "include", "three", "finetuned", "model", "evaluated", "performance", "proposed", "first", "selfrag", "asai", "et", "al", "b", "variant", "mainrag", "framework", "baseline", "across", "four", "ofllama", "trainedtoretrievedocumentsgener", "wellknown", "qa", "benchmark", "mainrag", "b", "ateoutputsandcriticallyexaminebothretrieved", "dec", "refers", "method", "order", "docu", "passagesanditsownresponsesexpandingitsvo", "ments", "descending", "order", "scoring", "fil", "cabulary", "additional", "reflection", "token", "teringasillustratedinfiguretableandap", "second", "llamaft", "llama", "fine", "pendixbourresultsdemonstratethatmainrag", "b", "b", "tunedonthesamedatasetusedbyselfragbut", "outperformsalltrainingfreeandwithoutretrieval", "withoutthereflectiontokensorretrievedpassages", "baselinesbymarginsuptowithmistral", "b", "wealsoincluderesultsfromaretrievalaugmented", "andwithllama", "inallfourbenchmarks", "b", "baselineretllamachat", "whichistrainedon", "shown", "table", "notably", "question", "b", "private", "data", "collected", "selfrag", "performs", "popqaheavilyrelyonexternalknowledgetoen", "inferencewithretrieveddocuments", "inthesecond", "able", "pretrained", "llm", "generate", "accurate", "categoryweconsiderstandardragbaselinesthat", "swers", "case", "mainrag", "exhibit", "signif", "require", "additional", "training", "meth", "icant", "advantage", "baseline", "thetable", "overallexperimentalresultsonfourtasks", "boldnumbersrefertothebestperformanceamongbaselines", "withoutretrievalandtrainingfreebaselinesandunderlinenumbersrefertothesecondbestperformance", "gray", "boldnumbersrefertothebestperformanceamongproprietarymodelsandtrainingbasedbaselines", "indicates", "concurrentresultsconductedbyrecentworksororiginalpapers", "forthemetrics", "acc", "em", "rg", "andmaudenote", "accuracystremrougeandmauverespectively", "triviaqa", "popqa", "arcc", "asqa", "acc", "acc", "acc", "em", "rg", "mau", "lmswithproprietarydata", "llamachat", "b", "retllamachat", "b", "baselineswithretrievaltrainingbased", "llamaft", "b", "selfrag", "b", "baselineswithoutretrieval", "llama", "b", "alpaca", "b", "llama", "b", "alpaca", "b", "mistral", "b", "llama", "b", "baselineswithretrievaltrainingfree", "llama", "b", "alpaca", "b", "llama", "b", "alpaca", "b", "mistral", "b", "llama", "b", "mainragmistral", "b", "mainragllama", "b", "retriever", "finetuned", "target", "question", "generally", "performs", "well", "filtering", "noisy", "doc", "q", "setsandmayretrievealargenumberofnoisycan", "uments", "shown", "table", "adjusted", "didatedocuments", "comparedwithtrainingbased", "variantsrandomlyachievebetterperformancethe", "baseline", "trainingfree", "mainrag", "framework", "default", "consistently", "rank", "least", "secondbest", "q", "bridge", "performance", "gap", "triviaqa", "across", "three", "benchmark", "two", "different", "pre", "popqa", "datasets", "also", "found", "met", "trainedllmsindicatingitspracticality", "ricsforroughrgmainragmistral", "b", "occasion", "afterfilteringoutirrelevantornoisydocuments", "allyoutperformsthetwotrainingbasedbaselines", "theremainingcandidatedocumentscanbesorted", "selfrag", "bandllamaft", "bshowingthepoten", "ineitherdescendingorascendingorder", "asshown", "tialofimprovingpretrainedllmstooutperform", "table", "mainrag", "default", "descending", "resourceconsumingfinetuningmethods", "derconsistentlyachievingbetterperformancecom", "pared", "ascending", "order", "result", "aligns", "ablationstudiesonadaptivejudgebar", "finding", "prior", "work", "suggests", "forfilteringandrankingrq", "llm", "tend", "prioritize", "information", "presented", "q", "thebeginningoftheinputliuetal", "assess", "effectiveness", "adaptive", "judg", "mentbar", "bycomparingthedefault", "withvaria", "q", "q", "casestudiesofdifferentadaptivejudge", "tionsadjustedbydifferentscalesofstandarddevia", "bar", "rq", "q", "tion", "n", "asmentionedinsectionthe", "q", "purposeoftheseadjustmentsistorelaxthefilter", "mainraginvolvesadaptivejudgebar", "toapprox", "q", "ingthresholdwhentherecallrateofrelevantdocu", "imateoptimaljudgebarsofeachquerybyaverag", "mentsislowpotentiallypreventingtheomission", "ing", "relevant", "score", "retrieved", "document", "ofcriticalexternalinformationrequiredtosupport", "query", "approach", "inspired", "obser", "llmsinquestionanswering", "despiteitsflexibil", "vation", "distinct", "score", "distribution", "ity", "experiment", "demonstrate", "default", "mostrelevantdocumentsetandtheleastrelevantcasestudy", "questioninwhatcitywasmontxumirandaborn", "adaptivejudgebar", "q", "filteredandordereddocumentsmontxumirandamontxumirandadezborndecemberinsanturce", "isaspanishpolevaulterhispersonalbestofmetresachievedinseptemberinbarcelonaisstillthe", "standingspanishnationalrecordhestudiedatthecolegiosancalixtothenlaterpursuedacareerinpolitical", "sciencesatthehigheruniversityofsanandrsinlapaz", "groundtruthsanturtzisanturce", "llmanswermontxumirandawasborninsanturcecorrect", "casestudy", "questionwhatisthecapitalofgminaczorsztyn", "adaptivejudgebar", "q", "filteredandordereddocumentsgminawolsztynisanurbanruralgminaadministrativedistrictinwolsztyn", "county", "sromowcewyzneisavillageintheadministrativedistrictofgminaczorsztynwithinnowytarg", "countylesserpolandvoivodeshipinsouthernpolandclosetotheborderwithslovakiaitliesapproximately", "kmsoutheastofmaniowykmeastofnowytarg", "groundtruthmaniowy", "llmanswerthecapitalofgminaczorsztynismaniowycorrect", "casestudy", "questionwhatisarcangeloghislerisoccupation", "adaptivejudgebar", "q", "filteredandordereddocumentssmichelearcangeloarchangelinjewishchristianandislamicteachings", "andreadicionearcangeloitalianpaintersculptorandarchitectactiveinflorenceantoniodi", "arcangeloitalianpainteractiveinflorenceinarenaissancestylebetweenandarcangelocalifano", "baroquecomposerandcellist", "groundtruthjournalistjournojournalists", "llmanswerarcangeloghisleriwasanitaliangeographerwriterandsocialistpoliticianwrong", "figure", "casestudy", "adaptivejudgebar", "dataset", "popqallm", "agent", "mistral", "q", "b", "table", "ablationstudiesof", "q", "anddocumentordering", "accuracy", "agent", "regardless", "whether", "q", "bold", "number", "indicate", "best", "result", "underline", "setrelativelyhighorlow", "thecorrelationbetween", "numbersindicatethesecondbestresult", "performance", "observed", "figure", "q", "andfurtherdiscussedinappendixd", "triviaqa", "popqa", "arcc", "acc", "acc", "acc", "conclusionandfuturework", "mistral", "b", "mainragdecs", "work", "address", "challenge", "noisy", "mainragasc", "document", "retrieval", "rag", "introducing", "mainrag", "q", "trainingfree", "multiagent", "framework", "mainrag", "mainrag", "q", "mainrag", "approach", "employ", "multiple", "llm", "agent", "q", "llama", "collaboratively", "filter", "rank", "retrieved", "docu", "b", "mainragdecs", "mentsenhancingtherecallofrelevantinformation", "mainragasc", "whileminimizingirrelevantcontent", "specifically", "mainrag", "q", "mainrag", "utilizes", "adaptive", "judge", "bar", "dy", "mainrag", "q", "mainrag", "namicallyadjustsbasedonthescoredistributionof", "q", "relevantandnoisydocumentsindifferentqueries", "experimental", "result", "demonstrate", "mainrag", "document", "set", "discussed", "section", "consistentlyoutperformstrainingfreeragbase", "figure", "observe", "agent", "assigns", "confi", "line", "across", "various", "qa", "benchmark", "regarding", "dentlyhighrelevancescorestorelateddocuments", "futuredirectionsthemainragframeworkunveils", "resulting", "skewedhigh", "score", "distribution", "several", "potential", "facet", "merit", "explo", "contrast", "agent", "score", "noisy", "document", "rationsuchasintegratingwithamorefinegrained", "withamoreuniformdistributionthelowestscores", "adaptivejudgebarextendingtheapproachtoother", "noisy", "document", "significantly", "lower", "tasksbeyondquestionansweringandincorporat", "thoseforrelateddocuments", "thisdisparityallows", "inghumanfeedbackortuningbasedapproachesto", "thefilteringmechanismtoimprovetheprediction", "enhancetheefficacyofdocumentfiltering", "limitation", "chiayuanchangyunengchuangguanchuwang", "mengnanduandnazoub", "dispel", "domain", "weconductexperimentsonfourdatasetsusingtwo", "generalizationviadomainspecificliberating", "arxiv", "differentpretrainedllmarchitectures", "theseex", "preprintarxiv", "perimentsprimarilyfocusonllminferencewith", "chiayuanchangjiayiyuansiruidingqiaoyutan", "retrievedexternaldocuments", "wedidnotconsider", "kai", "zhang", "xiaoqian", "jiang", "xia", "hu", "na", "zou", "otherresearchquestionsinragorpromptinglan", "towardsfairpatienttrialmatchingviapatient", "guage", "model", "context", "compression", "xu", "criterionlevelfairnessconstraint", "inamiaannual", "symposiumproceedingsvolumepage", "etalalietaldocumentsposition", "ordering", "liu", "et", "al", "xu", "et", "al", "b", "jiawei", "chen", "hongyu", "lin", "xianpei", "han", "le", "sun", "decodingmethodslietalashietal", "benchmarking", "large", "language", "model", "retrievalaugmentedgeneration", "inproceedingsof", "xu", "thechoiceofretrieversandrerankers", "theaaaiconferenceonartificialintelligencevol", "isalsoorthogonaltoourmainresearchagendalin", "umepages", "etalaasaietalaxuxuetal", "cinteralia", "yunengchuangsongchenlijiayiyuanguanchu", "wang", "kweiherng", "lai", "leisheng", "yu", "sirui", "ding", "acknowledge", "llm", "inference", "chiayuanchangqiaoyutandaochenzhaetal", "rag", "workflow", "contributes", "carbon", "emission", "understanding", "different", "design", "choice", "representingapotentiallimitationandenvironmen", "training", "large", "time", "series", "model", "arxiv", "preprint", "tal", "risk", "work", "mitigate", "aim", "arxiv", "reducetheneedforrepetitiveexperimentsbyensur", "yunengchuangguanchuwangchiayuanchang", "ingmorepredictableoutcomesandimplementing", "ruixiang", "tang", "fan", "yang", "mengnan", "du", "xuant", "controlledexperimentalsettings", "ing", "cai", "xia", "hu", "b", "large", "language", "model", "faithful", "explainers", "arxiv", "preprint", "arxiv", "reference", "yuneng", "chuang", "tianwei", "xing", "chiayuan", "chang", "ziruiliuxunchenandxiahuc", "learningto", "akari", "asai", "jacqueline", "rulin", "shao", "weijia", "shi", "compresspromptinnaturallanguageformats", "arxiv", "amanpreet", "singh", "joseph", "chee", "chang", "kyle", "lo", "preprintarxiv", "lucasoldainisergeyfeldmanmikedarcyetal", "openscholar", "synthesizingscientificlitera", "peterclarkisaaccowheyorenetzionitusharkhot", "ture", "retrievalaugmented", "lm", "arxiv", "preprint", "ashishsabharwalcarissaschoenickandoyvind", "arxiv", "tafjord", "thinkyouhavesolvedquestionan", "swering", "tryarctheaireasoningchallenge", "arxiv", "akariasaizeqiuwuyizhongwangavirupsiland", "preprintarxiv", "hannanehhajishirzib", "selfrag", "learningto", "retrievegenerateandcritiquethroughselfreflection", "abhimanyudubeyabhinavjauhriabhinavpandey", "inthetwelfthinternationalconferenceonlearning", "abhishekkadianahmadaldahleaieshaletman", "representation", "akhil", "mathur", "alan", "schelten", "amy", "yang", "angela", "fanetal", "thellamaherdofmodels", "arxiv", "rishi", "bommasani", "drew", "hudson", "ehsan", "adeli", "preprintarxiv", "rus", "altman", "simran", "arora", "sydney", "von", "arx", "michaelsbernsteinjeannettebohgantoinebosse", "yannduboischenxuechenlirohantaoritianyi", "lutemmabrunskilletal", "ontheopportuni", "zhangishaangulrajanijimmybacarlosguestrin", "tiesandrisksoffoundationmodels", "arxivpreprint", "percy", "liang", "tatsunori", "b", "hashimoto", "arxiv", "alpacafarm", "simulation", "framework", "method", "thatlearnfromhumanfeedback", "advancesinneural", "tombbrown", "languagemodelsarefewshot", "informationprocessingsystems", "learner", "arxivpreprintarxiv", "tianyugaohowardyenjiatongyuanddanqichen", "chiayuanchangningchenweitingchiangchih", "enablinglargelanguagemodelstogenerate", "henleeyuhsuantsengchuanjuwanghsien", "textwithcitations", "arxivpreprintarxiv", "hao", "chen", "mingfeng", "tsai", "query", "ex", "pansion", "semanticbased", "ellipsis", "reduction", "kelvinguukentonleezoratungpanupongpasu", "conversationalir", "intrec", "patandmingweichang", "retrievalaugmented", "languagemodelpretraining", "ininternationalconfer", "chiayuan", "chang", "yuneng", "chuang", "zhimeng", "jiang", "enceonmachinelearningpagespmlr", "kweihernglaianxiaojiangandnazoua", "coda", "temporaldomaingeneralizationviaconcept", "mingzhi", "hu", "xin", "zhang", "yanhua", "li", "yiqun", "xie", "xi", "driftsimulator", "arxivpreprintarxiv", "aowei", "jia", "xun", "zhou", "jun", "luo", "onlyattending", "whatmatter", "withintrajectoriesmemory", "forknowledgeintensivenlptasks", "advancesinneu", "efficienttrajectoryattention", "inproceedingsofthe", "ralinformationprocessingsystems", "siaminternationalconferenceondatamining", "sdmpagessiam", "xianglisaliariholtzmandanielfriedpercyliang", "jason", "eisner", "tatsunori", "hashimoto", "luke", "zettle", "mingzhi", "hu", "xin", "zhang", "yanhua", "li", "xun", "zhou", "moyerandmikelewisa", "contrastivedecod", "junluoa", "stifgsm", "enhancingrobustnessof", "ing", "openendedtextgenerationasoptimization", "human", "mobility", "signature", "identification", "model", "via", "proceeding", "st", "annual", "meeting", "spatialtemporal", "iterative", "fgsm", "proceeding", "sociationforcomputationallinguisticsvolume", "thethacmsigkddconferenceonknowledge", "longpaperspagestorontocanada", "discoveryanddataminingpages", "associationforcomputationallinguistics", "mingzhi", "hu", "zhuoyun", "zhong", "xin", "zhang", "yanhua", "xiaonanlichangtaizhulinyanglizhangyueyin", "li", "yiqun", "xie", "xiaowei", "jia", "xun", "zhou", "jun", "tianxiangsunandxipengqiub", "llatrieval", "luo", "b", "selfsupervised", "pretraining", "ro", "llmverifiedretrievalforverifiablegeneration", "arxiv", "bustandgenericspatialtemporalrepresentations", "preprintarxiv", "ieeeinternationalconferenceondatamining", "icdmpagesieee", "zongqianliyinhongliuyixuansuandnigelcol", "gautierizacardmathildecaronlucashosseinise", "lier", "promptcompressionforlargelanguage", "bastian", "riedel", "piotr", "bojanowski", "armand", "joulin", "model", "asurvey", "arxivpreprintarxiv", "andedouardgrave", "unsuperviseddensein", "formationretrievalwithcontrastivelearning", "arxiv", "jimmy", "lin", "rodrigo", "nogueira", "andrew", "yates", "preprintarxiv", "pretrained", "transformer", "text", "ranking", "bertandbeyond", "springernature", "ziweijinayeonleeritafriesketiezhengyudan", "su", "yan", "xu", "etsuko", "ishii", "ye", "jin", "bang", "andrea", "stephanielinjacobhiltonandowainevansb", "madottoandpascalefung", "surveyofhalluci", "truthfulqameasuringhowmodelsmimichuman", "nationinnaturallanguagegeneration", "acmcomput", "falsehood", "inproceedingsofthethannualmeet", "ingsurveys", "ingoftheassociationforcomputationallinguistics", "volume", "longpaperspagesdublin", "albert", "q", "jiang", "alexandre", "sablayrolles", "arthur", "men", "irelandassociationforcomputationallinguistics", "schchrisbamforddevendrasinghchaplotdiego", "delascasasflorianbressandgiannalengyelguil", "nelsonfliukevinlinjohnhewittashwinparan", "laumelamplelucilesaulnieretala", "mistral", "japemichelebevilacquafabiopetroniandpercy", "b", "arxivpreprintarxiv", "liang", "lostinthemiddle", "howlanguagemod", "zhengbao", "jiang", "frank", "xu", "luyu", "gao", "zhiqing", "sun", "elsuselongcontexts", "transactionsoftheassociation", "qian", "liu", "jane", "dwivediyu", "yiming", "yang", "jamie", "forcomputationallinguistics", "callanandgrahamneubigb", "activeretrieval", "augmentedgeneration", "inproceedingsofthe", "alexmallenakariasaivictorzhongrajarshidas", "conference", "empirical", "method", "natural", "lan", "daniel", "khashabi", "hannaneh", "hajishirzi", "guageprocessingpagessingaporeas", "trust", "language", "model", "investigating", "sociationforcomputationallinguistics", "effectivenessofparametricandnonparametricmem", "ories", "arxivpreprintarxiv", "hongye", "jin", "xiaotian", "han", "jingfeng", "yang", "zhimeng", "jiangziruiliuchiayuanchanghuiyuanchen", "krishnapillutlaswabhaswayamdiptarowanzellers", "andxiahu", "llmmaybelonglm", "selfextend", "johnthickstunseanwelleckyejinchoiandzaid", "llm", "context", "window", "without", "tuning", "fortyfirst", "harchaoui", "mauve", "measuring", "gap", "internationalconferenceonmachinelearning", "tweenneuraltextandhumantextusingdivergence", "frontier", "advancesinneuralinformationprocess", "mandarjoshieunsolchoidanielsweldandluke", "ingsystems", "zettlemoyer", "triviaqa", "alargescaledistantly", "supervisedchallengedatasetforreadingcomprehen", "oriramyoavlevineitaydalmedigosdormuhlgay", "sion", "arxivpreprintarxiv", "amnon", "shashua", "kevin", "leytonbrown", "yoav", "shoham", "incontextretrievalaugmentedlan", "vladimirkarpukhinbarlasoguzsewonminpatrick", "guagemodels", "transactionsoftheassociationfor", "lewisledellwusergeyedunovdanqichenand", "computationallinguistics", "wentau", "yih", "dense", "passage", "retrieval", "opendomain", "question", "answering", "arxiv", "preprint", "arxiv", "victor", "sanh", "albert", "webson", "colin", "raffel", "stephen", "bach", "lintang", "sutawika", "zaid", "alyafeai", "antoine", "patricklewisethanperezaleksandrapiktusfabio", "chaffin", "arnaud", "stiegler", "arun", "raja", "manan", "dey", "petronivladimirkarpukhinnamangoyalhein", "et", "al", "multitask", "prompted", "training", "enables", "richkttler", "mikelewis", "wentauyih", "timrock", "zeroshottaskgeneralization", "ininternationalcon", "tscheletal", "retrievalaugmentedgeneration", "ferenceonlearningrepresentationstimoschickjanedwivediyurobertodessroberta", "fangyuanxuweijiashiandeunsolchoia", "raileanumarialomelierichambrolukezettle", "comp", "improvingretrievalaugmentedlmswithcon", "moyernicolacanceddaandthomasscialom", "textcompressionandselectiveaugmentation", "inthe", "toolformer", "languagemodelscanteachthemselves", "twelfthinternationalconferenceonlearningrepre", "use", "tool", "advance", "neural", "information", "pro", "sentations", "cessingsystems", "zhichao", "xu", "contextaware", "decoding", "reduces", "weijia", "shi", "xiaochuang", "han", "mike", "lewis", "yulia", "hallucinationinqueryfocusedsummarization", "arxiv", "tsvetkovlukezettlemoyerandwentauyih", "preprintarxiv", "trustingyourevidencehallucinatelesswithcontext", "awaredecoding", "inproceedingsoftheconfer", "zhichao", "xu", "rankmamba", "benchmarking", "enceofthenorthamericanchapteroftheassoci", "mambasdocumentrankingperformanceintheera", "ation", "computational", "linguistics", "human", "lan", "oftransformers", "arxivpreprintarxiv", "guagetechnologiesvolume", "shortpaperspages", "zhichaoxudanielcohenbeiwangandviveksriku", "mexicocitymexicoassociationforcom", "marb", "incontextexampleorderingguidedby", "putationallinguistics", "label", "distribution", "finding", "association", "forcomputationallinguistics", "naaclpages", "ivan", "stelmakh", "yi", "luan", "bhuwan", "dhingra", "mexico", "city", "mexico", "association", "mingwei", "chang", "asqa", "factoid", "ques", "computationallinguistics", "tions", "meet", "longform", "answer", "arxiv", "preprint", "arxiv", "zhichao", "xu", "jinghua", "yan", "ashim", "gupta", "vivek", "srikumarc", "statespacemodelsarestrongtext", "hugo", "touvron", "louis", "martin", "kevin", "stone", "peter", "al", "rerankers", "arxivpreprintarxiv", "bert", "amjad", "almahairi", "yasmine", "babaei", "nikolay", "bashlykovsoumyabatraprajjwalbhargavashruti", "yue", "yu", "wei", "ping", "zihan", "liu", "boxin", "wang", "jiaxuan", "bhosale", "et", "al", "llama", "open", "founda", "youchaozhangmohammadshoeybiandbryan", "tion", "finetuned", "chat", "model", "arxiv", "preprint", "catanzaro", "rankragunifyingcontextrank", "arxiv", "ing", "retrievalaugmented", "generation", "llm", "inthethirtyeighthannualconferenceonneural", "avaswani", "attentionisallyouneed", "advance", "informationprocessingsystems", "inneuralinformationprocessingsystems", "jiayi", "yuan", "hongyi", "liu", "shaochen", "zhong", "yuneng", "guanchu", "wang", "yuneng", "chuang", "ruixiang", "tang", "chuang", "songchen", "li", "guanchu", "wang", "duy", "le", "shaochenzhongjiayiyuanhongyejinziruiliu", "hongyejin", "vipinchaudhary", "zhaozhuoxu", "etal", "vipin", "chaudhary", "shuai", "xu", "james", "caverlee", "et", "al", "kv", "cache", "compression", "must", "taylorunswift", "securedweightreleasefor", "giveinreturn", "acomprehensivebenchmarkoflong", "largelanguagemodelsviataylorexpansion", "inpro", "contextcapableapproaches", "infindingsoftheasso", "ceedingsoftheconferenceonempiricalmeth", "ciationforcomputationallinguisticsemnlp", "od", "natural", "language", "processing", "page", "page", "rowan", "zellers", "ari", "holtzman", "hannah", "rashkin", "guanchuwangyunengchuangfanyangmengnan", "yonatanbiskalifarhadifranziskaroesnerand", "duchiayuanchangshaochenzhongziruiliu", "yejin", "choi", "defending", "neural", "fake", "zhaozhuoxukaixiongzhouxuantingcaietal", "news", "advance", "neural", "information", "processing", "b", "tve", "learningmetaattributionfortransfer", "system", "able", "vision", "explainer", "fortyfirst", "international", "conferenceonmachinelearning", "yuezhangyafulileyangcuidengcailemaoliu", "tingchenfuxintinghuangenbozhaoyuzhang", "guanchu", "wang", "junhao", "ran", "ruixiang", "tang", "chia", "yulongchenetal", "sirenssongintheaiocean", "yuanchangyunengchuangziruiliuvladimir", "asurveyonhallucinationinlargelanguagemodels", "bravermanzhandongliuandxiahuc", "arxivpreprintarxiv", "sessing", "enhancing", "large", "language", "model", "rare", "disease", "questionanswering", "arxiv", "preprint", "arxiv", "yile", "wang", "peng", "li", "maosong", "sun", "yang", "liu", "selfknowledge", "guided", "retrieval", "augmen", "tation", "large", "language", "model", "arxiv", "preprint", "arxiv", "jason", "wei", "maarten", "bosma", "vincent", "zhao", "kelvin", "guu", "adam", "wei", "yu", "brian", "lester", "nan", "du", "drewmdaiandquocvle", "finetunedlan", "guagemodelsarezeroshotlearners", "arxivpreprint", "arxivappendix", "computationinfrastructure", "fair", "comparison", "evaluation", "experiment", "conducted", "based", "following", "physical", "computinginfrastructureintable", "table", "computinginfrastructurefortheexperiments", "deviceattribute", "spec", "computinginfrastructure", "gpu", "gpumodel", "nvidiaa", "gpunumber", "gpumemory", "gb", "b", "performancecomparisonamongmainraganditsvariantbaselines", "result", "demonstrate", "mainrag", "outperforms", "trainingfree", "without", "retrieval", "mainrag", "variant", "baseline", "margin", "mistral", "llama", "four", "b", "b", "benchmarksasshownintablefigureandfigure", "notablythequestionsinpopqaheavilyrely", "onexternalknowledgetoenablepretrainedllmstogenerateaccurateanswers", "inthiscasemainrag", "exhibitsasignificantadvantageoverthebaselinesbecausetheretrieverisnotfinetunedonthetarget", "questionsetsandmayretrievealargenumberofnoisycandidatedocuments", "triviaqa", "b", "popqa", "c", "arcchallenge", "figure", "performancecomparisonamongmainraganditsvariantbaselinesonthreeqabenchmarkswhereall", "threellmagentsarepretrainedmistral", "b", "triviaqa", "b", "popqa", "c", "arcchallenge", "figure", "performancecomparisonamongmainraganditsvariantbaselinesonthreeqabenchmarkswhereall", "threellmagentsarepretrainedllama", "bc", "systeminstructionsofagent", "predictoragent", "judgeandagent", "finalpredictor", "present", "system", "instruction", "agent", "predictor", "agent", "judge", "agent", "finalpredictorinfigureinmainragframework", "systeminstructionagent", "predictor", "youareanaccurateandreliableaiassistantthatcananswerquestionswiththehelpofexternaldoc", "uments", "youshouldonlyprovidethecorrectanswerwithoutrepeatingthequestionandinstruction", "systeminstructionagent", "judge", "youareanoisydocumentevaluatorthatcanjudgeiftheexternaldocumentisnoisyforthequery", "withunrelatedormisleadinginformation", "givenaretrieveddocumentaquestionandananswer", "generatedbyanllmllmansweryoushouldjudgewhetherboththefollowingtwoconditions", "arereached", "thedocumentprovidesspecificinformationforansweringthequestion", "llm", "answer", "directly", "answer", "question", "based", "retrieved", "document", "please", "note", "externaldocumentsmaycontainnoisyorfactuallyincorrectinformation", "iftheinformationinthe", "documentdoesnotcontaintheansweryoushouldpointitoutwithevidence", "youshouldanswer", "withyesornowithevidenceofyourjudgmentwherenomeansoneoftheconditions", "andareunreachedandindicatesitisanoisydocument", "systeminstructionagent", "finalpredictor", "youareanaccurateandreliableaiassistantthatcananswerquestionswiththehelpofexternaldoc", "uments", "youshouldonlyprovidethecorrectanswerwithoutrepeatingthequestionandinstruction", "figure", "systeminstructionsofagent", "predictoragent", "judgeandagent", "finalpredictor", "casestudiesofdifferentadaptivejudgebar", "inmainrag", "q", "demonstrate", "case", "study", "document", "filtered", "ranked", "mainrag", "different", "adaptive", "judge", "bar", "demonstration", "show", "agent", "judge", "pretrained", "llm", "able", "q", "toprovideconvincingjudgmentabilityforthequerieswithhighadaptivejudgebar", "confidentbut", "q", "suffersinthoselowadaptivejudgebarqueriesunconfident", "thecasestudiesonpopqaandtriviaqa", "areillustratedinfigurecasestudy", "question", "inwhatcitywasmontxumirandaborn", "adaptivejudgebar", "q", "filteredandordereddocuments", "montxumirandamontxumirandadezborndecem", "berinsanturceisaspanishpolevaulter", "hispersonalbestofmetresachieved", "inseptemberinbarcelonaisstillthestandingspanishnationalrecord", "mirandawas", "bornininbuenaventuracolombiaandwasabandonedbyhismotherwhenhewasone", "monthold", "atageaprecociousmirandabeganaquesttolocatehismother", "hehitched", "ride", "truck", "bed", "course", "hundred", "mile", "able", "find", "uncle", "workingataconstructionsite", "hisuncleinformedhimthatifhewasreallythelittleboyhis", "sistergaveawaythenheshouldhaveabirthmarkonhislegwhereasmirandaunveiledthe", "inchlongcircularproof", "themanledhimtohismothersnewhomeonlytobeabandoned", "againbyhismother", "groundtruthsanturtzisanturce", "llmanswermontxumirandawasborninsanturce", "correct", "casestudy", "question", "whatisthecapitalofgminaczorsztyn", "adaptivejudgebar", "q", "filteredandordereddocuments", "gminawolsztynisanurbanruralgminaadministrative", "districtinwolsztyncounty", "sromowcewyzneisavillageintheadministrativedistrictof", "gminaczorsztynwithinnowytargcountylesserpolandvoivodeshipinsouthernpoland", "closetotheborderwithslovakia", "itliesapproximatelykmsoutheastofmaniowykm", "eastofnowytargandkmsoutheastoftheregionalcapitalkrakw", "thevillagehasa", "population", "czosnw", "village", "nowy", "dwr", "mazowiecki", "county", "masovian", "voivodeshipineastcentralpoland", "itistheseatofthegminaadministrativedistrictcalled", "gminaczosnw", "itliesapproximatelykmsoutheastofnowydwrmazowieckiandkm", "northwestofwarsaw", "thevillagehasapopulationof", "groundtruthmaniowy", "llmanswerthecapitalofgminaczorsztynismaniowy", "correct", "casestudy", "question", "whatisarcangeloghislerisoccupation", "adaptivejudgebar", "q", "filteredandordereddocuments", "smichelearcangeloarchangelinjewishchristianand", "islamic", "teaching", "andrea", "di", "cione", "arcangelo", "italian", "painter", "sculptor", "architect", "active", "florence", "antonio", "di", "arcangelo", "italian", "painter", "active", "florence", "renaissance", "style", "arcangelo", "califano", "baroque", "composer", "cellist", "arcangelo", "placenza", "da", "calatafimi", "venerated", "italian", "franciscanfriarandpreacherarcangelocanetoliveneratedcatholicpriest", "arcangelocascieriinfluentialsculptormajorfigureinbostonarchitectural", "collegeinbostonmassachusettsarcangelodicolaactiveitalianlategothic", "painter", "groundtruthjournalistjournojournalists", "llmanswerarcangeloghisleriwasanitaliangeographerwriterandsocialistpolitician", "wrong", "figure", "casestudy", "adaptivejudgebar", "dataset", "popqallm", "agent", "mistral", "q", "bcasestudy", "question", "inwhatcitywasfernandogarcaborn", "adaptivejudgebar", "q", "filteredandordereddocuments", "fernandogarcabornjulyinsantiagochileis", "chilean", "composer", "active", "since", "done", "orchestral", "music", "chamber", "music", "etc", "hestudiedwithjuanorregosalasandgustavobecerraschmidtamongothers", "hisstyle", "strongly", "influenced", "serialism", "aleatoric", "procedure", "also", "played", "role", "beginningsofelectroacousticmusicinchileafteratriphemadetofranceintheearlys", "whereheheardmusiqueconcrete", "heworkedfortheinstitutodeextensinmusicalofthe", "universityofchileandinhepremieredhismostimportantpiecethecantataamrica", "insurrectawhichwonanawardatthechileanmusicfestival", "afterthechileancoupdtat", "hewasforcedintoexilefirstinperandthenincuba", "groundtruthsantiagosantiagodechilesantiagochile", "llmanswer", "according", "document", "fernando", "garca", "born", "santiago", "chile", "correct", "casestudy", "question", "inwhatcountryisittamalliyagoda", "adaptivejudgebar", "q", "filteredandordereddocuments", "ittamalliyagodaittamalliyagodaisavillageinsrilanka", "located", "within", "central", "province", "loluwagoda", "loluwagoda", "well", "known", "village", "sri", "lanka", "situated", "nittambuwa", "giriulla", "main", "road", "mirigama", "andgiriullatowns", "mainreligionofthepeopleinthevillageistheravadabuddhismthe", "oldramannanikayatempleinthevillagesrimahendraramayawaswellknownamong", "buddhist", "monk", "area", "hidden", "quiet", "temple", "promoting", "social", "servicesorfestivalsinordertoobtaindonations", "agroupfromthevillagersannuallydonate", "medicine", "mitirigala", "nissarana", "vanaya", "group", "atambe", "village", "like", "mostvillagesingampahadistrictthepopulationloluwagodaisavillageinthegampaha", "district", "sri", "lanka", "located", "nittambuwa", "giriulla", "main", "road", "townsofmirigamaandgiriulla", "groundtruthsrilankademocraticsocialistrepublicofsrilanka", "llmansweraccordingtothedocumentittamalliyagodaisavillageinsrilanka", "correct", "casestudy", "question", "whatisandreasrdigersoccupation", "adaptivejudgebar", "q", "filteredandordereddocuments", "johannes", "andreas", "rdiger", "november", "june", "wasagermanphilosopherandphysicist", "antoniordigerbornmarchisa", "germanprofessionalfootballerwhoplaysasacentrebackforclubchelseaandthegermany", "national", "team", "rdiger", "began", "career", "vfb", "stuttgart", "representing", "reserve", "ligaandthefirstteaminthebundesliga", "inhejoinedromainitiallyonloanandayear", "laterfora", "cmillionfee", "hewassignedbychelseainforanestimatedmillion", "wherehewonthefacupinhisfirstseason", "followedbytheuefaeuropaleagueinhis", "secondseasonandtheuefachampionsleaguein", "hemadehisinternationaldebut", "forgermanyinmarch", "groundtruthphilosopher", "llmanswer", "according", "document", "andreas", "rdiger", "born", "german", "professionalfootballerwhoplaysasacentrebackforclubchelseaandthegermanynational", "team", "wrong", "figure", "casestudy", "adaptivejudgebar", "dataset", "popqallm", "agent", "llama", "q", "bcasestudy", "question", "inwhichusstateisnewhaven", "adaptivejudgebar", "q", "filteredandordereddocuments", "newhavenconnecticutnewhavenisacoastalcityinthe", "usstateofconnecticut", "itislocatedonnewhavenharboronthenorthernshoreoflong", "islandsoundinnewhavencountyconnecticutandispartofthenewyorkmetropolitan", "area", "withapopulationofasdeterminedbytheunitedstatescensusitisthe", "secondlargestcityinconnecticutafterbridgeport", "newhavenistheprincipalmunicipality", "ofgreaternewhavenwhichhadatotalpopulationofin", "newhavenwasthe", "firstplannedcityinamerica", "foundedinbyenglishpuritansnewhavenvermont", "newhavenisatowninaddisoncountyvermontunitedstates", "thepopulationwas", "atthecensus", "groundtruthrichestplacesinconnecticutconnecticutconnectecut", "llmanswernewhavenislocatedintheusstateofconnecticut", "correct", "casestudy", "question", "whereistheareaofsquarekilometressqmilesincentralsouth", "australiawherepublicarenotadmittedunderaustraliandefenceforceregulations", "adaptivejudgebar", "q", "filteredandordereddocuments", "would", "double", "area", "land", "south", "australia", "environmentalprotectiontomillionhectares", "theareaincludesspeciesofplantsand", "large", "number", "habitat", "rare", "specie", "animal", "bird", "may", "year", "ofnegotiations", "rannjoinedwithfederaldefenceministerstephensmithandresources", "ministermartinfergusontoannouncethatlargeareasofthewoomeraprohibitedareathe", "largest", "defence", "testing", "reserve", "world", "would", "opened", "mining", "allowing", "futureexploitationofmineraldepositsestimatedatbillionsofdollars", "groundtruthwoomeradisambiguationwoomera", "llmanswer", "area", "square", "kilometre", "sq", "mile", "central", "south", "australiawherepublicarenotadmittedunderaustraliandefenceforceregulationsisthe", "woomeraprohibitedarea", "correct", "casestudy", "question", "name", "given", "alcoholic", "drink", "taken", "effort", "cure", "hangover", "adaptivejudgebar", "q", "filteredandordereddocuments", "hangoverdrinkinkoreahangoverdrinksaredrinkssold", "insouthkoreathatareconsumedtoeasethehangoverafterheavydrinking", "hangoverdrinks", "consumed", "heavy", "drinking", "session", "ingredient", "said", "break", "toxin", "produced", "liver", "drinking", "also", "reduce", "effect", "alcohol", "ourbrainsneurotransmitters", "gettogetheramongcoworkersorstudentsareverycommon", "korea", "lot", "people", "korea", "consume", "hangover", "drink", "attend", "gettogethersotheycangetoutofthehangoverquicklyonthenextday", "hangovercure", "groundtruthhairofdogalcoholreadministrationrecoverydrinkinghairoffdogs", "back", "llmanswer", "name", "given", "alcoholic", "drink", "taken", "effort", "cure", "ahangoverishangoverdrinkorhangovercureinkoreaitiscalledhaejangsulwrong", "figure", "casestudy", "adaptivejudgebar", "dataset", "triviaqallm", "agent", "mistral", "q", "bcasestudy", "question", "inancientgreecewhatwasahoplite", "adaptivejudgebar", "q", "filteredandordereddocuments", "hoplite", "formation", "art", "hoplites", "soldier", "ancient", "greece", "usually", "free", "citizen", "uniform", "distinct", "appearance", "specifically", "armed", "spear", "dory", "right", "hand", "heavyroundshieldintheirleft", "hoplitesoldierswereorganizedinbattleintothephalanx", "formation", "thegoalofthisformationwastocreateuniformityandapowerfulmilitaryforce", "order", "maximize", "effectiveness", "army", "whole", "rather", "use", "people", "individualfighters", "withthehopliteformationeveryonewasthesameinbattle", "thephalanx", "formation", "item", "armor", "equipment", "thus", "hoplite", "may", "approximate", "armored", "man", "hopliteswerethecitizensoldiersoftheancientgreekcitystates", "groundtruthacitizensoldiermilitiagroupsmilitiamen", "llmansweraccordingtothedocumentahoplitewasacitizensoldierofancientgreece", "primarily", "armed", "spear", "shield", "organized", "battle", "phalanxformationandwereknownfortheiruniformappearancewearingthesamearmor", "andcarryingthesameweaponsinthesameposition", "correct", "casestudy", "question", "whatdidarthurwynneinvent", "adaptivejudgebar", "q", "filteredandordereddocuments", "new", "york", "world", "newspaper", "best", "known", "theinventionofthecrosswordpuzzleinwhenhewasaresidentofcedargrovenew", "jersey", "wynne", "created", "page", "puzzle", "fun", "section", "sunday", "edition", "thenewyorkworld", "forthedecembereditionheintroducedapuzzlewitha", "diamondshapeandahollowcenterthelettersfunalreadybeingfilledin", "hecalledita", "wordcrosspuzzlealthoughwynnesinventionwasbasedonearlierpuzzleformssuch", "astheworddiamondheintroducedanumberofinnovationseg", "theonjanuary", "ondecemberhewashonoredwithaninteractivegoogledoodlecommemorating", "thethanniversaryofthefirstcrosswordpuzzlewithapuzzlebymerlreagle", "groundtruthcrosswordpuzzlecrosswordfillincrossword", "llmansweraccordingtothedocumentarthurwynneinventedthecrosswordpuzzlein", "correct", "casestudy", "question", "theamericascuptrophywasheldbyamericafromuntilwhenthe", "cupwaswonbywhichchallenger", "adaptivejudgebar", "q", "filteredandordereddocuments", "iiwonthecup", "americascupwastheoccasionof", "first", "winning", "challenge", "new", "york", "yacht", "club", "successfully", "defended", "cup", "period", "year", "australian", "syndicate", "representing", "royal", "perth", "yacht", "club", "fielded", "australia", "ii", "skippered", "john", "bertrand", "defender", "liberty", "skippered", "dennis", "conner", "match", "race", "win", "america", "cup", "ending", "longestwinningstreakinsportinghistoryandendingusdominationoftheracingseries", "groundtruthaustraliaiiofaustraliaaustraliaiiofaustralia", "llmansweraccordingtothedocumenttheamericascuptrophywasheldbythenew", "yorkyachtclubnyycfromuntil", "thecupwaswonbyanaustraliansyndicate", "representingtheroyalperthyachtclubfieldingtheaustraliaiiskipperedbyjohnbertrand", "wrong", "figure", "casestudy", "adaptivejudgebar", "dataset", "triviaqallm", "agent", "llama", "q", "b"], "sentences": ["mainrag multiagent filtering retrievalaugmented generation chiayuanchang zhimengjiang vineethrakesh menghaipan chinchiamichaelyeh texasamuniversity visaresearch visaresearch visaresearch visaresearch cychangtamuedu zhimjianvisacom vinemohavisacom mengpanvisacom miyehvisacom guanchuwang mingzhihu zhichaoxu yanzheng mahashwetadas nazou visaresearch worcesterpolytechnicinstitute universityofutah visaresearch visaresearch universityofhouston guanwangvisacom mhuwpiedu zhichaoxuutahedu yazhengvisacom mahadasvisacom nzoucentraluhedu abstract introduces critical limitation including gen erationofoutdatedorfactuallyincorrectinforma largelanguagemodelsllmsarebecoming tionaphenomenonreferredtohallucinationji essentialtoolsforvariousnaturallanguagepro et al zhang et al issue cessingtasksbutoftensufferfromgenerating outdated incorrect information retrieval comesparticularlypronouncedinapplicationsre augmentedgenerationragaddressesthis quiringaccurateuptodateandcontextuallyrele issue incorporating external realtime vantresponsessuchashealthcarelegalsystems formationretrievaltogroundllmresponses andrealtimecustomersupportbommasanietal howevertheexistingragsystemsfrequently zellersetallinetalb strugglewiththequalityofretrievaldocuments retrievalaugmented generation rag asirrelevantornoisydocumentsdegradeper formance increase computational overhead emergedasapromisingsolutiontomitigatethese andundermineresponsereliability totackle challenge integrating realtime document thisproblemweproposemultiagentfiltering trievaltogroundllmoutputsinreliableexternal retrievalaugmentedgenerationmainrag knowledge lewis et al guu et al atrainingfreeragframeworkthatleverages karpukhinetalrametallietal multiple llm agent collaboratively fil b wang et al trainingbased meth ter score retrieved document specifi odsguuetalkarpukhinetalwang cally mainrag introduces adaptive filter ing mechanism dynamically adjusts etalhavedemonstratedstrongperformance relevancefilteringthresholdbasedonscoredis require substantial computational resource tributionseffectivelyminimizingnoisewhile training time contrast trainingfree ap maintaininghighrecallofrelevantdocuments proachesrametallietalbjiang proposed approach leverage interagent et al b simpler efficient consensustoensurerobustdocumentselection asplugandplaymethodsstillhingeonthequal without requiring additional training data ityofretrieveddocumentschenetalyu finetuning experimental result across four qa benchmark demonstrate mainrag et al presence irrelevant noisy consistentlyoutperformstraditionalragap documentsnotonlyreducesresponseaccuracybut proachesachievingaimprovementin also increase computational overhead com answer accuracy reducing number promisessystemreliability thesechallengesun irrelevant retrieved document quantita derscoretheurgentneedforrobustmechanismsto tiveanalysisfurtherrevealsthatourapproach effectivelyfilterandrankretrievedcontent achievessuperiorresponseconsistencyandan swer accuracy baseline method offer toaddressthesechallengesweproposemulti ing competitive practical alternative agentfilteringretrievalaugmentedgeneration trainingbasedsolutions mainrag novel trainingfree framework de signedtoenhancetheperformanceandreliability introduction rag system unlike existing method largelanguagemodelsllmshaverevolution often rely computationally intensive training izednaturallanguageprocessingnlpachieving finetuning mainrag leverage collabora stateoftheart performance across diverse task tive multiagent approach multiple llm question answering summarization agent filter score retrieved document text generation vaswani brown consensusdriven strategy ensures however reliance pretrained static data mostrelevantandhighqualitydocumentsareuti ced lcsc vvixradocument retrieval filter noise document query an filtering retriever private doc scoring ordering database query an doc doc doc doc doc query doc llm agent doc query an llm agent doc doc predictor judge doc triplet docqa trainingfree stable document ordering answer based query fin answer adaptive judge bar relative document doc doc llm agent finalpredictor figure anoverviewoftheproposedframeworkmainragconsistingofthreellmagentstoidentifynoisy retrieveddocumentsforfilteringseesection aftertheretrievalagent predictorinfersanswersfor query agent judge take docqa triplet judge document supportive llm answerthequery judgeprovidesrelevantscoresforeachdocumentforfilteringandordering finallyagent finalpredictoranswersthequerywiththegivendocumentlist lized generation significantly reducing noise proachesachievingaimprovementin withoutsacrificingrecall answeraccuracywhilereducingtheinclusion mainragintroducesanadaptivefilteringmech ofirrelevantdocuments anismthatdynamicallyadjuststherelevancethresh byaddressingtheinherentchallengesofnoisein oldbasedonthescoredistributionofretrieveddoc documentretrievalandprovidingatrainingfreeso uments adaptability allows framework lutionmainragrepresentsasignificantadvance handle diverse query effectively ensures mentinthefieldofretrievalaugmentedgeneration robustperformanceacrossdiversetasks thisworkdetailsthedesignimplementationand thetrainingfreenatureofmainragelimi evaluationofmainraghighlightingitspotential natestheneedforadditionallabeleddataormodel toimproveresponseaccuracyconsistencyandre finetuningmakingitascalableandversatilesolu liabilityindiversenlpapplications tionforrealworldapplications ourcontributionsareasfollows preliminary trainingfreemultiagentfiltering wein notationsandobjectives troduceanoveltrainingfreeframeworkthat consider rag system designed filter employ multiple llm agent collabora noisy retrieved document improve response tivelyfilterandrankretrieveddocumentsim accuracy query q q retrieves set provingretrievalprecisionandragreliabil document using q n itywithouttheneedforadditionaltraining trievermodel eachdocumentd isassociatedwith relevance score r quantifies useful dynamic adaptive filtering mecha ness query determined agent nism mainrag incorporates adaptive judge described section let r thresholdmechanismthatdynamicallyadjusts r r r representtherelevancescoresfor toqueryspecificscoredistributionsensuring n theretrieveddocuments thesescoresareusedto effective noise reduction maintaining rankthedocumentsforminganorderedlistdrank highrecallofrelevantdocuments q document higher score deemed empirical validation across multiple morerelevant basedonthesescoresanadaptive benchmark experimental result judge bar computed query filter q four qa benchmark demonstrate outnoisydocumentsseesection document mainrag outperforms baseline rag ap withscoresr areretainedcreatingafiltered qsetdfiltered drank nr represents trainingfree rag trainingfree rag ap q q relevance score document adap proaches integrate pretrained language model tivejudgebar dynamicallyadjustsbasedonthe retrieval component avoiding extensive q distributionofr ensuringrobustfilteringfordi trainingrametalperformincontextre versequeries forexampleconsideraqueryq trievalallowinglanguagemodelstodynamically retrievesd withrelevancescores access external data li et al b propose q r therankedlistdrank becomes framework llm verify retrieved doc q adaptive judge bar uments ensure relevance query q thefilteredsetdfiltered retainsonlythe method highly sensitive input prompt q mostrelevantdocuments tothisendourworkfo similarlyjiangetalbintroduceastrategy cusesoneffectivelyidentifyingandfilteringnoisy actively determine retrieve document thereby enhancing accuracy duringgenerationbutitalsosuffersfromprompt reliabilityofragsystemsinaposthocmanner sensitivity whileefficienttrainingfreeragap proachesstrugglewithnoiserobustnessduetotheir impactofnoisyretrievaldocuments relianceonstaticpretraineddata challenge noise robustness rag ensur rag irrelevant noisy document retrieved ingnoiserobustnessiscriticalforthereliabilityof retrieval stage mislead llm ragsystemschenet al conductacom inference stage often resulting prehensive analysis rag effect llm correct answer presence noise focusingontheirresiliencetonoiseandotherfun formation pose significant challenge damental capability yu et al present liability llm rag especially ap framework strengthens llm rag perfor pliedtotasksthatrequirepreciseinformationsuch mancebyguidingthemincontextrankingandan question answering observed existing swergeneration sectiontradeoffofpicking studieschenetalyuetalllms topk context underscore significance exhibitvulnerabilitiesinnoiserobustnessandof selectingrelevantcontextstobalanceeffectiveness tenfailtorejectirrelevantcontentresultinginde andcomputationalcost thesefindingsemphasize creasedperformance thereforeimprovingnoise thenecessityoffilteringoutnoisydocumentstoup filtering retrieval process vital en holdtheaccuracyandrobustnessofragsystems hanceragsystemsreliabilityandrobustness multiagentfilteringragmainrag relatedworks thissectionreviewsragmethodologiesfocusing thissectionpresentsacomprehensiveoverviewof ontrainingbasedandtrainingfreeapproachesand ourproposedmainragframeworkasdepictedin discussesthechallengeofnoiserobustnessinrag figure basedonthetraditionalragworkflow trainingbasedragtrainingbasedraginte mainrag focus reducing noisy document gratesretrievalmechanismsintothetrainingofthe aftertheretrievalstage specificallymainragis languagemodelallowingaccesstoexternalinfor atrainingfreeframeworkinvolvingthreeagents mationduringgeneration forinstancelewisetal toidentifyandfilteroutnoisydocumentsafterre combineparametricandnonparametricpre trieval specific role three agent trainedmemoryforlanguagegenerationachieving defined section section illustrates stateoftheartresultsonopendomainqatasks processofsupportivedocumentjudgmentforfilter similarly guu et al introduce realm ingoutmisleadingorirrelevantones section framework augments language model pre proposesanadaptivejudgebartoadjustthejudge training latent knowledge retriever allow criteriaaccordingtogivenretrieveddocuments ing retrieval attention large corpus like definitionofllmagentsinmainrag wikipedia selfrag asai et al b pro posestoadaptivelyretrievepassagesandcritique proposed framework mainrag iden thegenerationssoastoimproveoutputqualityand tify noisy retrieved document filtering factuality albeiteffectivethesemethodsrequire consisting three llm agent agent dedicated training procedure corresponding predictor agent judge agent hardwarehinderingtheirapplicability finalpredictorscore log prob yes score log prob llm agent score n judge query an doc system instruction scoring query an doc doc doc query an llm agent doc judge doc triplet docqa figure impact document ordering variance inragperformancewherenoisedocstumeanst figure quantificationofdocumentrelevantscore noisydocumentsoutofuretrieveddocuments agent predictor afterthedocumentre ratiocondition theresultsillustratedinfigure trievalstagewehaveseveralcandidatedocuments revealthatdocumentorderhasasignificanteffect foreachquery thenforasinglequeryagent performance notably maximum perfor predictoristoinferanswerstothequerygiven mancesaresubstantiallyhigherthantheminimum eachdocument thenwecanformthedocument onessuggestingthatcertaindocumentorderscan queryanswer triplet docqa pre provide stable optimal result observa pared agent judge evaluate rele tionleadsustoproposeajudgmentquantification vantinformationamongdocqatripletasshown tomakedocumentssortable infigure toquantifythenaturallanguageoutputsyes agent judge given docqa triplet propose computing difference agent judgeistoevaluatewhetherthedoc betweenthelogprobabilitiesofthecorresponding umentprovidesrelevantinformationtothequery token shown figure system andanswer agentispromptedtoansweryes instructionisprovidedinappendixcsincethese ornoforeachdocqatriplettreatingtherele arelogprobabilitiesthisdifferenceeffectivelyrep vancejudgmentasatrueorfalsequestion resentsthelogarithmoftheratiooftheprobabilities simplification help quantify judg oftheyestokentothenotoken bysubtract mentasrelevantscoresofdocuments whichcan ingthelogprobabilitiesofthetwotokensagent used filtering ordering detail simplifies judgment consolidating two agentrefertosectionandsection factorsintoasinglescore thisrelevantscorethen agent finalpredictor afteragent servesasthesolecriterionfordocumentfiltering filtersoutnoisydocumentsandorderstheremain ingdocumentlistbytheirrelevantscoresagent adaptivejudgebar q finalpredictor prompted answer afterweobtainrelevantscoresforeachdocument querywiththedocumentlist anotherchallengeishowtodeterminetheoptimal judgebarforfilteringoutnoisydocuments relevancejudgmentquantification theoptimaljudgebaristhescorethatperfectlyfil previousresearchhasobservedthatwhenprocess tersoutallnoisydocumentswhileretainingallrel inglongcontextinputsllmstendtooverlookin evantones considerexampleinfigurewhere formationinthemiddleplacinggreateremphasis onthebeginningandendofthecontextliuetal thissuggeststhatinragtheorderingof documentsmayinfluencepredictionperformance investigate impact document order ragweconductedanexperimentonthebench markrgbchenetalwheretheretrieved documentswererandomlyshuffledandevaluated thisprocesswasrepeatedtentimesforeachnoise figure examplesofoptimaljudgebarojbscore distribution related doc score distribution noisy doc document score document score figureoptimaljudgebarsfordifferentnoiseratiosin differentquerieswherenoisedocstumeanstnoisy documentsoutofuretrieveddocuments query retrieves higher number noisy docu mentstheoptimaljudgebarinthiscaseisapprox imately inexampleinfigurewheremore relevant document retrieved query optimaljudgebarincreasestoaround examplesillustratethattheoptimaljudgebarvaries withthedocumentdistributionamongqueries also observe significant variation optimal judgebarsacrossdifferentqueriesinrgbbench mark chen et al shown figure thisobservationleadsustothinkabouthowcan weadaptivelydetermineoptimaljudgebars analyzing relevant score distribution bothrelatedandnoisydocumentsonrgbbench markchenetalweobservethatthescores ofrelateddocumentsareskewedhighwithasmall standarddeviationasshowninfigure thisin dicatesthatthellmhereismistralbismore confidentaboutthesedocuments incontrastthe scoresofnoisydocumentsaremoreuniformlydis tributedwithalargerstandarddeviationsuggesting thatthellmislessconfidentandmaymisjudge based biased llm behavior proposeusingtheaveragerelevantscoreforeach queryasanadaptivejudgebar infigurethered linerepresentstheaveragescoreofalldocuments documentstotherightoftheredlinetheredarea areretainedwhilethosetotheleftarefilteredout whentheaveragescoreishighindicatingmany relevant documentswe filter low scoringoutlierswhicharelikelynoise conversely average score lowindicating many noisydocumentsweaimtoreducethenumberof documentswhilemaintainingahighrecallratefor relevantdocumentsbystillusingtheaveragescore tofilteroutapproximatelyhalfofthedocuments tointroduceflexibilityintothisframeworkwead justtheadaptivejudgebar byaddingntimesthe q standarddeviation ofeachcandidatedocument set nallowingrelax whenneededas q q ycneuqerf figure scoredistributionofrelatedandnoisydocu mentswithadaptivejudgebar shownbythegreenareainfigure notablynis theonlyhyperparameterinmainrag experiment inthissectionweconductexperimentstoevaluate performance mainrag aiming answer thefollowingthreeresearchquestions rq mainrag perform leveraging llm agent noisy document filter rq utilize adaptive judge bar filtering ranking q rq howdoes influenceperformance q tasksanddatasets weevaluateourmainragmodelandvariousbase linesacrossarangeofdownstreamtasksassessing theoutputsforoverallcorrectness allevaluations areconductedinazeroshotsettingwherewepro videtaskinstructionswithoutfewshotdemonstra tionssanhetalweietal closedset task evaluate mainrag arcchallenge dataset clark et al multiplechoice reasoning dataset collected scientificexams weuseaccuracyastheevaluation metricandreportresultsonthetestingset opendomainquestionansweringtasks evaluate mainrag two opendomain qa datasets triviaqaunfiltered joshi et al andpopqamallenetalbothofwhichre quirellmstoanswerarbitraryquestionsaboutfac tualknowledge sincethetestingsetoftriviaqa unfilteredisnotpubliclyavailableweusetheval idation testing set provided existing workasaietalbcomprisingtest ingqueriesforevaluation forpopqaweutilize longtail subset consisting rare en tity query monthly wikipedia page view less following prior work mallen etalschicketalweevaluatetask performance based whether gold answer areincludedinthemodelsgenerationsinsteadof strictlyrequiringexactmatchesa triviaqa b popqa c arcchallenge figure performancecomparisonamongmainraganditsvariantbaselinesonthreeqabenchmarkswhereall threellmagentsarepretrainedmistral comparisonbasedonllama agentsisillustratedinappendixb b b longformgenerationtasks weconductresults od simply prepend top retrieved document onthelongformqataskalceasqagaoetal query passing pretrained stelmakhetaltoevaluatemainrag llmegllama alpaca llama bb bb b werelyontheofficialmetricsincludingcorrect mistral usingthesameretrieverasinoursys b nessstremandrougeandfluencymeasuredby tem also consider two variant mainrag mauvemaupillutlaetal navemultiagentragthismainragvariant replacesagentsrolewithasimplenaturallan baseline guagejudgmentofyesornomainragran baseline without retrieval assess dom variant scoring filtering range publicly available powerful pre theordersofremainingdocumentsarerandomized trained llm including llama tou bb experimentalsettings vron et al llama dubey et al b mistral jiang et al asatrainingfreeragframeworkthethreeagents b well instructiontuned model like mainrag instantiated different pre alpaca dubois et al also trained llm default setting instanti bb compare framework model trained ateallthreeagentsbypretrainedmistral jiang b andenhancedusingprivatedatallamachat et al llama without tun b b whenever possible use official sys ing employ pretrained contrieverms tem prompt instruction format marco izacard et al default applied training process trievermodel retrievinguptotwentydocuments instructiontunedmodels query mainrag filter use baseline retrieval evaluate model greedygenerationforallourexperiments incorporate retrieval either inference quantitativeanalysisrq orthroughoutthetrainingprocess inthefirstcat egory include three finetuned model evaluated performance proposed first selfrag asai et al b variant mainrag framework baseline across four ofllama trainedtoretrievedocumentsgener wellknown qa benchmark mainrag b ateoutputsandcriticallyexaminebothretrieved dec refers method order docu passagesanditsownresponsesexpandingitsvo ments descending order scoring fil cabulary additional reflection token teringasillustratedinfiguretableandap second llamaft llama fine pendixbourresultsdemonstratethatmainrag b b tunedonthesamedatasetusedbyselfragbut outperformsalltrainingfreeandwithoutretrieval withoutthereflectiontokensorretrievedpassages baselinesbymarginsuptowithmistral b wealsoincluderesultsfromaretrievalaugmented andwithllama inallfourbenchmarks b baselineretllamachat whichistrainedon shown table notably question b private data collected selfrag performs popqaheavilyrelyonexternalknowledgetoen inferencewithretrieveddocuments inthesecond able pretrained llm generate accurate categoryweconsiderstandardragbaselinesthat swers case mainrag exhibit signif require additional training meth icant advantage baseline thetable overallexperimentalresultsonfourtasks boldnumbersrefertothebestperformanceamongbaselines withoutretrievalandtrainingfreebaselinesandunderlinenumbersrefertothesecondbestperformance gray boldnumbersrefertothebestperformanceamongproprietarymodelsandtrainingbasedbaselines indicates concurrentresultsconductedbyrecentworksororiginalpapers forthemetrics acc em rg andmaudenote accuracystremrougeandmauverespectively triviaqa popqa arcc asqa acc acc acc em rg mau lmswithproprietarydata llamachat b retllamachat b baselineswithretrievaltrainingbased llamaft b selfrag b baselineswithoutretrieval llama b alpaca b llama b alpaca b mistral b llama b baselineswithretrievaltrainingfree llama b alpaca b llama b alpaca b mistral b llama b mainragmistral b mainragllama b retriever finetuned target question generally performs well filtering noisy doc q setsandmayretrievealargenumberofnoisycan uments shown table adjusted didatedocuments comparedwithtrainingbased variantsrandomlyachievebetterperformancethe baseline trainingfree mainrag framework default consistently rank least secondbest q bridge performance gap triviaqa across three benchmark two different pre popqa datasets also found met trainedllmsindicatingitspracticality ricsforroughrgmainragmistral b occasion afterfilteringoutirrelevantornoisydocuments allyoutperformsthetwotrainingbasedbaselines theremainingcandidatedocumentscanbesorted selfrag bandllamaft bshowingthepoten ineitherdescendingorascendingorder asshown tialofimprovingpretrainedllmstooutperform table mainrag default descending resourceconsumingfinetuningmethods derconsistentlyachievingbetterperformancecom pared ascending order result aligns ablationstudiesonadaptivejudgebar finding prior work suggests forfilteringandrankingrq llm tend prioritize information presented q thebeginningoftheinputliuetal assess effectiveness adaptive judg mentbar bycomparingthedefault withvaria q q casestudiesofdifferentadaptivejudge tionsadjustedbydifferentscalesofstandarddevia bar rq q tion n asmentionedinsectionthe q purposeoftheseadjustmentsistorelaxthefilter mainraginvolvesadaptivejudgebar toapprox q ingthresholdwhentherecallrateofrelevantdocu imateoptimaljudgebarsofeachquerybyaverag mentsislowpotentiallypreventingtheomission ing relevant score retrieved document ofcriticalexternalinformationrequiredtosupport query approach inspired obser llmsinquestionanswering despiteitsflexibil vation distinct score distribution ity experiment demonstrate default mostrelevantdocumentsetandtheleastrelevantcasestudy questioninwhatcitywasmontxumirandaborn adaptivejudgebar q filteredandordereddocumentsmontxumirandamontxumirandadezborndecemberinsanturce isaspanishpolevaulterhispersonalbestofmetresachievedinseptemberinbarcelonaisstillthe standingspanishnationalrecordhestudiedatthecolegiosancalixtothenlaterpursuedacareerinpolitical sciencesatthehigheruniversityofsanandrsinlapaz groundtruthsanturtzisanturce llmanswermontxumirandawasborninsanturcecorrect casestudy questionwhatisthecapitalofgminaczorsztyn adaptivejudgebar q filteredandordereddocumentsgminawolsztynisanurbanruralgminaadministrativedistrictinwolsztyn county sromowcewyzneisavillageintheadministrativedistrictofgminaczorsztynwithinnowytarg countylesserpolandvoivodeshipinsouthernpolandclosetotheborderwithslovakiaitliesapproximately kmsoutheastofmaniowykmeastofnowytarg groundtruthmaniowy llmanswerthecapitalofgminaczorsztynismaniowycorrect casestudy questionwhatisarcangeloghislerisoccupation adaptivejudgebar q filteredandordereddocumentssmichelearcangeloarchangelinjewishchristianandislamicteachings andreadicionearcangeloitalianpaintersculptorandarchitectactiveinflorenceantoniodi arcangeloitalianpainteractiveinflorenceinarenaissancestylebetweenandarcangelocalifano baroquecomposerandcellist groundtruthjournalistjournojournalists llmanswerarcangeloghisleriwasanitaliangeographerwriterandsocialistpoliticianwrong figure casestudy adaptivejudgebar dataset popqallm agent mistral q b table ablationstudiesof q anddocumentordering accuracy agent regardless whether q bold number indicate best result underline setrelativelyhighorlow thecorrelationbetween numbersindicatethesecondbestresult performance observed figure q andfurtherdiscussedinappendixd triviaqa popqa arcc acc acc acc conclusionandfuturework mistral b mainragdecs work address challenge noisy mainragasc document retrieval rag introducing mainrag q trainingfree multiagent framework mainrag mainrag q mainrag approach employ multiple llm agent q llama collaboratively filter rank retrieved docu b mainragdecs mentsenhancingtherecallofrelevantinformation mainragasc whileminimizingirrelevantcontent specifically mainrag q mainrag utilizes adaptive judge bar dy mainrag q mainrag namicallyadjustsbasedonthescoredistributionof q relevantandnoisydocumentsindifferentqueries experimental result demonstrate mainrag document set discussed section consistentlyoutperformstrainingfreeragbase figure observe agent assigns confi line across various qa benchmark regarding dentlyhighrelevancescorestorelateddocuments futuredirectionsthemainragframeworkunveils resulting skewedhigh score distribution several potential facet merit explo contrast agent score noisy document rationsuchasintegratingwithamorefinegrained withamoreuniformdistributionthelowestscores adaptivejudgebarextendingtheapproachtoother noisy document significantly lower tasksbeyondquestionansweringandincorporat thoseforrelateddocuments thisdisparityallows inghumanfeedbackortuningbasedapproachesto thefilteringmechanismtoimprovetheprediction enhancetheefficacyofdocumentfiltering limitation chiayuanchangyunengchuangguanchuwang mengnanduandnazoub dispel domain weconductexperimentsonfourdatasetsusingtwo generalizationviadomainspecificliberating arxiv differentpretrainedllmarchitectures theseex preprintarxiv perimentsprimarilyfocusonllminferencewith chiayuanchangjiayiyuansiruidingqiaoyutan retrievedexternaldocuments wedidnotconsider kai zhang xiaoqian jiang xia hu na zou otherresearchquestionsinragorpromptinglan towardsfairpatienttrialmatchingviapatient guage model context compression xu criterionlevelfairnessconstraint inamiaannual symposiumproceedingsvolumepage etalalietaldocumentsposition ordering liu et al xu et al b jiawei chen hongyu lin xianpei han le sun decodingmethodslietalashietal benchmarking large language model retrievalaugmentedgeneration inproceedingsof xu thechoiceofretrieversandrerankers theaaaiconferenceonartificialintelligencevol isalsoorthogonaltoourmainresearchagendalin umepages etalaasaietalaxuxuetal cinteralia yunengchuangsongchenlijiayiyuanguanchu wang kweiherng lai leisheng yu sirui ding acknowledge llm inference chiayuanchangqiaoyutandaochenzhaetal rag workflow contributes carbon emission understanding different design choice representingapotentiallimitationandenvironmen training large time series model arxiv preprint tal risk work mitigate aim arxiv reducetheneedforrepetitiveexperimentsbyensur yunengchuangguanchuwangchiayuanchang ingmorepredictableoutcomesandimplementing ruixiang tang fan yang mengnan du xuant controlledexperimentalsettings ing cai xia hu b large language model faithful explainers arxiv preprint arxiv reference yuneng chuang tianwei xing chiayuan chang ziruiliuxunchenandxiahuc learningto akari asai jacqueline rulin shao weijia shi compresspromptinnaturallanguageformats arxiv amanpreet singh joseph chee chang kyle lo preprintarxiv lucasoldainisergeyfeldmanmikedarcyetal openscholar synthesizingscientificlitera peterclarkisaaccowheyorenetzionitusharkhot ture retrievalaugmented lm arxiv preprint ashishsabharwalcarissaschoenickandoyvind arxiv tafjord thinkyouhavesolvedquestionan swering tryarctheaireasoningchallenge arxiv akariasaizeqiuwuyizhongwangavirupsiland preprintarxiv hannanehhajishirzib selfrag learningto retrievegenerateandcritiquethroughselfreflection abhimanyudubeyabhinavjauhriabhinavpandey inthetwelfthinternationalconferenceonlearning abhishekkadianahmadaldahleaieshaletman representation akhil mathur alan schelten amy yang angela fanetal thellamaherdofmodels arxiv rishi bommasani drew hudson ehsan adeli preprintarxiv rus altman simran arora sydney von arx michaelsbernsteinjeannettebohgantoinebosse yannduboischenxuechenlirohantaoritianyi lutemmabrunskilletal ontheopportuni zhangishaangulrajanijimmybacarlosguestrin tiesandrisksoffoundationmodels arxivpreprint percy liang tatsunori b hashimoto arxiv alpacafarm simulation framework method thatlearnfromhumanfeedback advancesinneural tombbrown languagemodelsarefewshot informationprocessingsystems learner arxivpreprintarxiv tianyugaohowardyenjiatongyuanddanqichen chiayuanchangningchenweitingchiangchih enablinglargelanguagemodelstogenerate henleeyuhsuantsengchuanjuwanghsien textwithcitations arxivpreprintarxiv hao chen mingfeng tsai query ex pansion semanticbased ellipsis reduction kelvinguukentonleezoratungpanupongpasu conversationalir intrec patandmingweichang retrievalaugmented languagemodelpretraining ininternationalconfer chiayuan chang yuneng chuang zhimeng jiang enceonmachinelearningpagespmlr kweihernglaianxiaojiangandnazoua coda temporaldomaingeneralizationviaconcept mingzhi hu xin zhang yanhua li yiqun xie xi driftsimulator arxivpreprintarxiv aowei jia xun zhou jun luo onlyattending whatmatter withintrajectoriesmemory forknowledgeintensivenlptasks advancesinneu efficienttrajectoryattention inproceedingsofthe ralinformationprocessingsystems siaminternationalconferenceondatamining sdmpagessiam xianglisaliariholtzmandanielfriedpercyliang jason eisner tatsunori hashimoto luke zettle mingzhi hu xin zhang yanhua li xun zhou moyerandmikelewisa contrastivedecod junluoa stifgsm enhancingrobustnessof ing openendedtextgenerationasoptimization human mobility signature identification model via proceeding st annual meeting spatialtemporal iterative fgsm proceeding sociationforcomputationallinguisticsvolume thethacmsigkddconferenceonknowledge longpaperspagestorontocanada discoveryanddataminingpages associationforcomputationallinguistics mingzhi hu zhuoyun zhong xin zhang yanhua xiaonanlichangtaizhulinyanglizhangyueyin li yiqun xie xiaowei jia xun zhou jun tianxiangsunandxipengqiub llatrieval luo b selfsupervised pretraining ro llmverifiedretrievalforverifiablegeneration arxiv bustandgenericspatialtemporalrepresentations preprintarxiv ieeeinternationalconferenceondatamining icdmpagesieee zongqianliyinhongliuyixuansuandnigelcol gautierizacardmathildecaronlucashosseinise lier promptcompressionforlargelanguage bastian riedel piotr bojanowski armand joulin model asurvey arxivpreprintarxiv andedouardgrave unsuperviseddensein formationretrievalwithcontrastivelearning arxiv jimmy lin rodrigo nogueira andrew yates preprintarxiv pretrained transformer text ranking bertandbeyond springernature ziweijinayeonleeritafriesketiezhengyudan su yan xu etsuko ishii ye jin bang andrea stephanielinjacobhiltonandowainevansb madottoandpascalefung surveyofhalluci truthfulqameasuringhowmodelsmimichuman nationinnaturallanguagegeneration acmcomput falsehood inproceedingsofthethannualmeet ingsurveys ingoftheassociationforcomputationallinguistics volume longpaperspagesdublin albert q jiang alexandre sablayrolles arthur men irelandassociationforcomputationallinguistics schchrisbamforddevendrasinghchaplotdiego delascasasflorianbressandgiannalengyelguil nelsonfliukevinlinjohnhewittashwinparan laumelamplelucilesaulnieretala mistral japemichelebevilacquafabiopetroniandpercy b arxivpreprintarxiv liang lostinthemiddle howlanguagemod zhengbao jiang frank xu luyu gao zhiqing sun elsuselongcontexts transactionsoftheassociation qian liu jane dwivediyu yiming yang jamie forcomputationallinguistics callanandgrahamneubigb activeretrieval augmentedgeneration inproceedingsofthe alexmallenakariasaivictorzhongrajarshidas conference empirical method natural lan daniel khashabi hannaneh hajishirzi guageprocessingpagessingaporeas trust language model investigating sociationforcomputationallinguistics effectivenessofparametricandnonparametricmem ories arxivpreprintarxiv hongye jin xiaotian han jingfeng yang zhimeng jiangziruiliuchiayuanchanghuiyuanchen krishnapillutlaswabhaswayamdiptarowanzellers andxiahu llmmaybelonglm selfextend johnthickstunseanwelleckyejinchoiandzaid llm context window without tuning fortyfirst harchaoui mauve measuring gap internationalconferenceonmachinelearning tweenneuraltextandhumantextusingdivergence frontier advancesinneuralinformationprocess mandarjoshieunsolchoidanielsweldandluke ingsystems zettlemoyer triviaqa alargescaledistantly supervisedchallengedatasetforreadingcomprehen oriramyoavlevineitaydalmedigosdormuhlgay sion arxivpreprintarxiv amnon shashua kevin leytonbrown yoav shoham incontextretrievalaugmentedlan vladimirkarpukhinbarlasoguzsewonminpatrick guagemodels transactionsoftheassociationfor lewisledellwusergeyedunovdanqichenand computationallinguistics wentau yih dense passage retrieval opendomain question answering arxiv preprint arxiv victor sanh albert webson colin raffel stephen bach lintang sutawika zaid alyafeai antoine patricklewisethanperezaleksandrapiktusfabio chaffin arnaud stiegler arun raja manan dey petronivladimirkarpukhinnamangoyalhein et al multitask prompted training enables richkttler mikelewis wentauyih timrock zeroshottaskgeneralization ininternationalcon tscheletal retrievalaugmentedgeneration ferenceonlearningrepresentationstimoschickjanedwivediyurobertodessroberta fangyuanxuweijiashiandeunsolchoia raileanumarialomelierichambrolukezettle comp improvingretrievalaugmentedlmswithcon moyernicolacanceddaandthomasscialom textcompressionandselectiveaugmentation inthe toolformer languagemodelscanteachthemselves twelfthinternationalconferenceonlearningrepre use tool advance neural information pro sentations cessingsystems zhichao xu contextaware decoding reduces weijia shi xiaochuang han mike lewis yulia hallucinationinqueryfocusedsummarization arxiv tsvetkovlukezettlemoyerandwentauyih preprintarxiv trustingyourevidencehallucinatelesswithcontext awaredecoding inproceedingsoftheconfer zhichao xu rankmamba benchmarking enceofthenorthamericanchapteroftheassoci mambasdocumentrankingperformanceintheera ation computational linguistics human lan oftransformers arxivpreprintarxiv guagetechnologiesvolume shortpaperspages zhichaoxudanielcohenbeiwangandviveksriku mexicocitymexicoassociationforcom marb incontextexampleorderingguidedby putationallinguistics label distribution finding association forcomputationallinguistics naaclpages ivan stelmakh yi luan bhuwan dhingra mexico city mexico association mingwei chang asqa factoid ques computationallinguistics tions meet longform answer arxiv preprint arxiv zhichao xu jinghua yan ashim gupta vivek srikumarc statespacemodelsarestrongtext hugo touvron louis martin kevin stone peter al rerankers arxivpreprintarxiv bert amjad almahairi yasmine babaei nikolay bashlykovsoumyabatraprajjwalbhargavashruti yue yu wei ping zihan liu boxin wang jiaxuan bhosale et al llama open founda youchaozhangmohammadshoeybiandbryan tion finetuned chat model arxiv preprint catanzaro rankragunifyingcontextrank arxiv ing retrievalaugmented generation llm inthethirtyeighthannualconferenceonneural avaswani attentionisallyouneed advance informationprocessingsystems inneuralinformationprocessingsystems jiayi yuan hongyi liu shaochen zhong yuneng guanchu wang yuneng chuang ruixiang tang chuang songchen li guanchu wang duy le shaochenzhongjiayiyuanhongyejinziruiliu hongyejin vipinchaudhary zhaozhuoxu etal vipin chaudhary shuai xu james caverlee et al kv cache compression must taylorunswift securedweightreleasefor giveinreturn acomprehensivebenchmarkoflong largelanguagemodelsviataylorexpansion inpro contextcapableapproaches infindingsoftheasso ceedingsoftheconferenceonempiricalmeth ciationforcomputationallinguisticsemnlp od natural language processing page page rowan zellers ari holtzman hannah rashkin guanchuwangyunengchuangfanyangmengnan yonatanbiskalifarhadifranziskaroesnerand duchiayuanchangshaochenzhongziruiliu yejin choi defending neural fake zhaozhuoxukaixiongzhouxuantingcaietal news advance neural information processing b tve learningmetaattributionfortransfer system able vision explainer fortyfirst international conferenceonmachinelearning yuezhangyafulileyangcuidengcailemaoliu tingchenfuxintinghuangenbozhaoyuzhang guanchu wang junhao ran ruixiang tang chia yulongchenetal sirenssongintheaiocean yuanchangyunengchuangziruiliuvladimir asurveyonhallucinationinlargelanguagemodels bravermanzhandongliuandxiahuc arxivpreprintarxiv sessing enhancing large language model rare disease questionanswering arxiv preprint arxiv yile wang peng li maosong sun yang liu selfknowledge guided retrieval augmen tation large language model arxiv preprint arxiv jason wei maarten bosma vincent zhao kelvin guu adam wei yu brian lester nan du drewmdaiandquocvle finetunedlan guagemodelsarezeroshotlearners arxivpreprint arxivappendix computationinfrastructure fair comparison evaluation experiment conducted based following physical computinginfrastructureintable table computinginfrastructurefortheexperiments deviceattribute spec computinginfrastructure gpu gpumodel nvidiaa gpunumber gpumemory gb b performancecomparisonamongmainraganditsvariantbaselines result demonstrate mainrag outperforms trainingfree without retrieval mainrag variant baseline margin mistral llama four b b benchmarksasshownintablefigureandfigure notablythequestionsinpopqaheavilyrely onexternalknowledgetoenablepretrainedllmstogenerateaccurateanswers inthiscasemainrag exhibitsasignificantadvantageoverthebaselinesbecausetheretrieverisnotfinetunedonthetarget questionsetsandmayretrievealargenumberofnoisycandidatedocuments triviaqa b popqa c arcchallenge figure performancecomparisonamongmainraganditsvariantbaselinesonthreeqabenchmarkswhereall threellmagentsarepretrainedmistral b triviaqa b popqa c arcchallenge figure performancecomparisonamongmainraganditsvariantbaselinesonthreeqabenchmarkswhereall threellmagentsarepretrainedllama bc systeminstructionsofagent predictoragent judgeandagent finalpredictor present system instruction agent predictor agent judge agent finalpredictorinfigureinmainragframework systeminstructionagent predictor youareanaccurateandreliableaiassistantthatcananswerquestionswiththehelpofexternaldoc uments youshouldonlyprovidethecorrectanswerwithoutrepeatingthequestionandinstruction systeminstructionagent judge youareanoisydocumentevaluatorthatcanjudgeiftheexternaldocumentisnoisyforthequery withunrelatedormisleadinginformation givenaretrieveddocumentaquestionandananswer generatedbyanllmllmansweryoushouldjudgewhetherboththefollowingtwoconditions arereached thedocumentprovidesspecificinformationforansweringthequestion llm answer directly answer question based retrieved document please note externaldocumentsmaycontainnoisyorfactuallyincorrectinformation iftheinformationinthe documentdoesnotcontaintheansweryoushouldpointitoutwithevidence youshouldanswer withyesornowithevidenceofyourjudgmentwherenomeansoneoftheconditions andareunreachedandindicatesitisanoisydocument systeminstructionagent finalpredictor youareanaccurateandreliableaiassistantthatcananswerquestionswiththehelpofexternaldoc uments youshouldonlyprovidethecorrectanswerwithoutrepeatingthequestionandinstruction figure systeminstructionsofagent predictoragent judgeandagent finalpredictor casestudiesofdifferentadaptivejudgebar inmainrag q demonstrate case study document filtered ranked mainrag different adaptive judge bar demonstration show agent judge pretrained llm able q toprovideconvincingjudgmentabilityforthequerieswithhighadaptivejudgebar confidentbut q suffersinthoselowadaptivejudgebarqueriesunconfident thecasestudiesonpopqaandtriviaqa areillustratedinfigurecasestudy question inwhatcitywasmontxumirandaborn adaptivejudgebar q filteredandordereddocuments montxumirandamontxumirandadezborndecem berinsanturceisaspanishpolevaulter hispersonalbestofmetresachieved inseptemberinbarcelonaisstillthestandingspanishnationalrecord mirandawas bornininbuenaventuracolombiaandwasabandonedbyhismotherwhenhewasone monthold atageaprecociousmirandabeganaquesttolocatehismother hehitched ride truck bed course hundred mile able find uncle workingataconstructionsite hisuncleinformedhimthatifhewasreallythelittleboyhis sistergaveawaythenheshouldhaveabirthmarkonhislegwhereasmirandaunveiledthe inchlongcircularproof themanledhimtohismothersnewhomeonlytobeabandoned againbyhismother groundtruthsanturtzisanturce llmanswermontxumirandawasborninsanturce correct casestudy question whatisthecapitalofgminaczorsztyn adaptivejudgebar q filteredandordereddocuments gminawolsztynisanurbanruralgminaadministrative districtinwolsztyncounty sromowcewyzneisavillageintheadministrativedistrictof gminaczorsztynwithinnowytargcountylesserpolandvoivodeshipinsouthernpoland closetotheborderwithslovakia itliesapproximatelykmsoutheastofmaniowykm eastofnowytargandkmsoutheastoftheregionalcapitalkrakw thevillagehasa population czosnw village nowy dwr mazowiecki county masovian voivodeshipineastcentralpoland itistheseatofthegminaadministrativedistrictcalled gminaczosnw itliesapproximatelykmsoutheastofnowydwrmazowieckiandkm northwestofwarsaw thevillagehasapopulationof groundtruthmaniowy llmanswerthecapitalofgminaczorsztynismaniowy correct casestudy question whatisarcangeloghislerisoccupation adaptivejudgebar q filteredandordereddocuments smichelearcangeloarchangelinjewishchristianand islamic teaching andrea di cione arcangelo italian painter sculptor architect active florence antonio di arcangelo italian painter active florence renaissance style arcangelo califano baroque composer cellist arcangelo placenza da calatafimi venerated italian franciscanfriarandpreacherarcangelocanetoliveneratedcatholicpriest arcangelocascieriinfluentialsculptormajorfigureinbostonarchitectural collegeinbostonmassachusettsarcangelodicolaactiveitalianlategothic painter groundtruthjournalistjournojournalists llmanswerarcangeloghisleriwasanitaliangeographerwriterandsocialistpolitician wrong figure casestudy adaptivejudgebar dataset popqallm agent mistral q bcasestudy question inwhatcitywasfernandogarcaborn adaptivejudgebar q filteredandordereddocuments fernandogarcabornjulyinsantiagochileis chilean composer active since done orchestral music chamber music etc hestudiedwithjuanorregosalasandgustavobecerraschmidtamongothers hisstyle strongly influenced serialism aleatoric procedure also played role beginningsofelectroacousticmusicinchileafteratriphemadetofranceintheearlys whereheheardmusiqueconcrete heworkedfortheinstitutodeextensinmusicalofthe universityofchileandinhepremieredhismostimportantpiecethecantataamrica insurrectawhichwonanawardatthechileanmusicfestival afterthechileancoupdtat hewasforcedintoexilefirstinperandthenincuba groundtruthsantiagosantiagodechilesantiagochile llmanswer according document fernando garca born santiago chile correct casestudy question inwhatcountryisittamalliyagoda adaptivejudgebar q filteredandordereddocuments ittamalliyagodaittamalliyagodaisavillageinsrilanka located within central province loluwagoda loluwagoda well known village sri lanka situated nittambuwa giriulla main road mirigama andgiriullatowns mainreligionofthepeopleinthevillageistheravadabuddhismthe oldramannanikayatempleinthevillagesrimahendraramayawaswellknownamong buddhist monk area hidden quiet temple promoting social servicesorfestivalsinordertoobtaindonations agroupfromthevillagersannuallydonate medicine mitirigala nissarana vanaya group atambe village like mostvillagesingampahadistrictthepopulationloluwagodaisavillageinthegampaha district sri lanka located nittambuwa giriulla main road townsofmirigamaandgiriulla groundtruthsrilankademocraticsocialistrepublicofsrilanka llmansweraccordingtothedocumentittamalliyagodaisavillageinsrilanka correct casestudy question whatisandreasrdigersoccupation adaptivejudgebar q filteredandordereddocuments johannes andreas rdiger november june wasagermanphilosopherandphysicist antoniordigerbornmarchisa germanprofessionalfootballerwhoplaysasacentrebackforclubchelseaandthegermany national team rdiger began career vfb stuttgart representing reserve ligaandthefirstteaminthebundesliga inhejoinedromainitiallyonloanandayear laterfora cmillionfee hewassignedbychelseainforanestimatedmillion wherehewonthefacupinhisfirstseason followedbytheuefaeuropaleagueinhis secondseasonandtheuefachampionsleaguein hemadehisinternationaldebut forgermanyinmarch groundtruthphilosopher llmanswer according document andreas rdiger born german professionalfootballerwhoplaysasacentrebackforclubchelseaandthegermanynational team wrong figure casestudy adaptivejudgebar dataset popqallm agent llama q bcasestudy question inwhichusstateisnewhaven adaptivejudgebar q filteredandordereddocuments newhavenconnecticutnewhavenisacoastalcityinthe usstateofconnecticut itislocatedonnewhavenharboronthenorthernshoreoflong islandsoundinnewhavencountyconnecticutandispartofthenewyorkmetropolitan area withapopulationofasdeterminedbytheunitedstatescensusitisthe secondlargestcityinconnecticutafterbridgeport newhavenistheprincipalmunicipality ofgreaternewhavenwhichhadatotalpopulationofin newhavenwasthe firstplannedcityinamerica foundedinbyenglishpuritansnewhavenvermont newhavenisatowninaddisoncountyvermontunitedstates thepopulationwas atthecensus groundtruthrichestplacesinconnecticutconnecticutconnectecut llmanswernewhavenislocatedintheusstateofconnecticut correct casestudy question whereistheareaofsquarekilometressqmilesincentralsouth australiawherepublicarenotadmittedunderaustraliandefenceforceregulations adaptivejudgebar q filteredandordereddocuments would double area land south australia environmentalprotectiontomillionhectares theareaincludesspeciesofplantsand large number habitat rare specie animal bird may year ofnegotiations rannjoinedwithfederaldefenceministerstephensmithandresources ministermartinfergusontoannouncethatlargeareasofthewoomeraprohibitedareathe largest defence testing reserve world would opened mining allowing futureexploitationofmineraldepositsestimatedatbillionsofdollars groundtruthwoomeradisambiguationwoomera llmanswer area square kilometre sq mile central south australiawherepublicarenotadmittedunderaustraliandefenceforceregulationsisthe woomeraprohibitedarea correct casestudy question name given alcoholic drink taken effort cure hangover adaptivejudgebar q filteredandordereddocuments hangoverdrinkinkoreahangoverdrinksaredrinkssold insouthkoreathatareconsumedtoeasethehangoverafterheavydrinking hangoverdrinks consumed heavy drinking session ingredient said break toxin produced liver drinking also reduce effect alcohol ourbrainsneurotransmitters gettogetheramongcoworkersorstudentsareverycommon korea lot people korea consume hangover drink attend gettogethersotheycangetoutofthehangoverquicklyonthenextday hangovercure groundtruthhairofdogalcoholreadministrationrecoverydrinkinghairoffdogs back llmanswer name given alcoholic drink taken effort cure ahangoverishangoverdrinkorhangovercureinkoreaitiscalledhaejangsulwrong figure casestudy adaptivejudgebar dataset triviaqallm agent mistral q bcasestudy question inancientgreecewhatwasahoplite adaptivejudgebar q filteredandordereddocuments hoplite formation art hoplites soldier ancient greece usually free citizen uniform distinct appearance specifically armed spear dory right hand heavyroundshieldintheirleft hoplitesoldierswereorganizedinbattleintothephalanx formation thegoalofthisformationwastocreateuniformityandapowerfulmilitaryforce order maximize effectiveness army whole rather use people individualfighters withthehopliteformationeveryonewasthesameinbattle thephalanx formation item armor equipment thus hoplite may approximate armored man hopliteswerethecitizensoldiersoftheancientgreekcitystates groundtruthacitizensoldiermilitiagroupsmilitiamen llmansweraccordingtothedocumentahoplitewasacitizensoldierofancientgreece primarily armed spear shield organized battle phalanxformationandwereknownfortheiruniformappearancewearingthesamearmor andcarryingthesameweaponsinthesameposition correct casestudy question whatdidarthurwynneinvent adaptivejudgebar q filteredandordereddocuments new york world newspaper best known theinventionofthecrosswordpuzzleinwhenhewasaresidentofcedargrovenew jersey wynne created page puzzle fun section sunday edition thenewyorkworld forthedecembereditionheintroducedapuzzlewitha diamondshapeandahollowcenterthelettersfunalreadybeingfilledin hecalledita wordcrosspuzzlealthoughwynnesinventionwasbasedonearlierpuzzleformssuch astheworddiamondheintroducedanumberofinnovationseg theonjanuary ondecemberhewashonoredwithaninteractivegoogledoodlecommemorating thethanniversaryofthefirstcrosswordpuzzlewithapuzzlebymerlreagle groundtruthcrosswordpuzzlecrosswordfillincrossword llmansweraccordingtothedocumentarthurwynneinventedthecrosswordpuzzlein correct casestudy question theamericascuptrophywasheldbyamericafromuntilwhenthe cupwaswonbywhichchallenger adaptivejudgebar q filteredandordereddocuments iiwonthecup americascupwastheoccasionof first winning challenge new york yacht club successfully defended cup period year australian syndicate representing royal perth yacht club fielded australia ii skippered john bertrand defender liberty skippered dennis conner match race win america cup ending longestwinningstreakinsportinghistoryandendingusdominationoftheracingseries groundtruthaustraliaiiofaustraliaaustraliaiiofaustralia llmansweraccordingtothedocumenttheamericascuptrophywasheldbythenew yorkyachtclubnyycfromuntil thecupwaswonbyanaustraliansyndicate representingtheroyalperthyachtclubfieldingtheaustraliaiiskipperedbyjohnbertrand wrong figure casestudy adaptivejudgebar dataset triviaqallm agent llama q b"]}